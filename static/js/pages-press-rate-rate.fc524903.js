(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[4517],{15098:function(t,e,n){var o=n(23931);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var a=n(75970).A;a("773c970b",o,!0,{sourceMap:!1,shadowMode:!1})},77097:function(t,e,n){var o=n(36920);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var a=n(75970).A;a("2b2feb4b",o,!0,{sourceMap:!1,shadowMode:!1})},87995:function(t,e,n){"use strict";var o;n.r(e),n.d(e,{default:function(){return E}});var a,r,i,l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("demo-block",{attrs:{title:t.t("basicUsage")}},[n("PressRate",{attrs:{value:3,"custom-class":"press-rate--demo-class"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:t.t("customIcon")}},[n("PressRate",{attrs:{value:t.value,icon:"like","void-icon":"like-o"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:t.t("customImage")}},[n("PressRate",{attrs:{value:t.value,"void-icon":"https://image-1251917893.file.myqcloud.com/Esports/new/user/star.png",icon:"https://image-1251917893.file.myqcloud.com/Esports/new/user/sel-star.png"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:t.t("customStyle")}},[n("PressRate",{attrs:{value:t.value,size:25,color:"#ffd21e","void-icon":"star","void-color":"#eee"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:t.t("halfStar")}},[n("PressRate",{attrs:{value:t.half,"allow-half":!0,"void-icon":"star","void-color":"#eee"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:t.t("customCount")}},[n("PressRate",{attrs:{value:t.value,count:6},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:t.t("disabled")}},[n("PressRate",{attrs:{value:t.value,disabled:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1),n("demo-block",{attrs:{title:t.t("readonly")}},[n("PressRate",{attrs:{value:t.value,readonly:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}})],1)],1)},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"press-rate-index"},[n("div",{class:[t.utils.bem2("rate"),t.customClass],on:{touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.onTouchMove.apply(void 0,arguments)}}},t._l(t.innerCountArray,(function(e,o){return n("div",{key:o,class:[t.utils.bem2("rate__item")],style:""+t.style({paddingRight:o!==t.count-1?t.utils.addUnit(t.gutter):null})},[n("PressIcon",{class:[t.getIconBaseClass(o)],style:""+t.iconStyle,attrs:{name:o+1<=t.innerValue?t.icon:t.voidIcon,"custom-class":t.getIconBaseCustomClass(o),"custom-style":t.iconCustomStyle,"data-score":o,color:t.disabled?t.disabledColor:o+1<=t.innerValue?t.color:t.voidColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect(o)}}}),t.allowHalf?n("PressIcon",{class:[t.getIconHalfClass(o)],style:""+t.iconStyle,attrs:{name:o+.5<=t.innerValue?t.icon:t.voidIcon,"custom-class":t.getIconHalfCustomClass(o),"custom-style":t.iconCustomStyle,"data-score":o-.5,color:t.disabled?t.disabledColor:o+.5<=t.innerValue?t.color:t.voidColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect(o-.5)}}}):t._e()],1)})),0)])},u=[],d=(n(47949),n(17350),n(28784),n(75762),n(11680),n(98127),n(824),n(13740),n(57869),n(15016)),f=n(50552),p=n(95460),h=n(99050),v=n(9660),m={name:"PressRate",components:{PressIcon:v.A},field:!0,props:{value:{type:Number,default:0},readonly:Boolean,disabled:Boolean,allowHalf:Boolean,size:{type:[String,Number],default:""},icon:{type:String,default:"star"},voidIcon:{type:String,default:"star-o"},color:{type:String,default:""},voidColor:{type:String,default:""},disabledColor:{type:String,default:""},count:{type:Number,default:5},gutter:{type:[Number,String],default:""},touchable:{type:Boolean,default:!0},customClass:{type:String,default:""},iconClass:{type:String,default:""}},emits:["input","change"],data:function(){return{innerValue:0,innerCountArray:Array.from({length:5}),utils:h.Ay,style:f.iF}},computed:{iconStyle:function(){return(0,f.iF)({fontSize:h.Ay.addUnit(this.size)})},iconCustomStyle:function(){var t="";return t}},watch:{value:{handler:function(t){t!==this.innerValue&&(this.innerValue=t)},immediate:!0},count:{handler:function(t){this.innerCountArray=Array.from({length:t})},immediate:!0}},methods:{onSelect:function(t){var e=this;this.disabled||this.readonly||(this.innerValue=t+1,(0,p.dY)((function(){e.$emit("input",t+1),e.$emit("change",t+1)})))},onTouchMove:function(t){var e=this,n=this.touchable;if(n){var o=t.touches[0].clientX;(0,d.KY)(this,".press-rate__icon").then((function(t){var n=t.sort((function(t,e){return t.x-e.x})).find((function(t){return o>=t.left&&o<=t.right})),a=t.indexOf(n);null!=n&&e.onSelect(a)}))}},getIconBaseClass:function(t){var e=this.disabled,n=this.innerValue;return h.Ay.bem2("rate__icon",[{disabled:e,full:t+1<=n}])},getIconHalfClass:function(t){var e=this.disabled,n=this.innerValue;return h.Ay.bem2("rate__icon",["half",{disabled:e,full:t+.5<=n}])},getIconBaseCustomClass:function(t){var e=this.iconClass;return e},getIconHalfCustomClass:function(t){var e=this.iconClass;return e}}},g=m,y=(n(77097),n(81904)),b=(0,y.A)(g,c,u,!1,null,"9efc4be6",null,!1,a,r),w=b.exports,C={i18n:{"zh-CN":{halfStar:"半星",disabled:"禁用状态",customIcon:"自定义图标",customImage:"自定义图片",customStyle:"自定义样式",customCount:"自定义数量",readonly:"只读状态",changeEvent:"监听 change 事件",toastContent:function(t){return"当前值：".concat(t)}},"en-US":{halfStar:"Half Star",disabled:"Disabled",customImage:"Custom Image",customIcon:"Custom Icon",customStyle:"Custom Style",customCount:"Custom Count",readonly:"Readonly",changeEvent:"Change Event",toastContent:function(t){return"current value：".concat(t)}}},components:{PressRate:w},data:function(){return{value:3,half:2.5}},methods:{onChange:function(t){this.onGTip("value: ".concat(t))}}},S=C,_=(n(15098),(0,y.A)(S,l,s,!1,null,"98c80722",null,!1,o,i)),E=_.exports},15016:function(t,e,n){"use strict";n.d(e,{Hj:function(){return p},KY:function(){return v},No:function(){return d},UN:function(){return u},ZA:function(){return f},l:function(){return h}});var o=n(10819),a=n(20731),r=(n(15186),n(98127),n(59803),n(55026),n(21435)),i=n(99050),l=n(11933),s=n(70429),c=n(96007);function u(t){var e=(0,r.Ay)(),n=e.top,o=void 0===n?0:n;return(0,i.n1)()||(0,s.S)()?t-o:t}function d(){if((0,i.n1)()){var t=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),e=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height),n=(0,r.Ay)(),o=n.top,a=n.bottom;return e-=o,e-=a,{windowWidth:t,windowHeight:e,windowTop:o,windowBottom:a}}var s=(0,l.jq)(),c=s.windowWidth,u=s.windowHeight,d=s.windowTop,f=s.windowBottom;return{windowWidth:c,windowHeight:u,windowTop:d,windowBottom:f}}function f(){if((0,i.n1)())return 0;var t=(0,l.jq)(),e=t.statusBarHeight;return e}function p(t,e){return new Promise((function(n){var o=(0,c.JP)(e),a=t.$el;if(a){var r=a.querySelector(o);return r||n({}),void n({scrollHeight:r.scrollHeight,scrollTop:r.scrollTop})}uni.createSelectorQuery().in(t).select(o).fields({scrollOffset:!0},(function(t){n(t)})).exec()}))}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(o){var i=null===t||void 0===t?void 0:t.$el,l=null===i||void 0===i?void 0:i.querySelector(e);if(!l&&n&&(l=document.querySelector(e)),l){var s=l.getBoundingClientRect()||{},c=(0,r.Ay)(),u=c.top,d={left:s.left,right:s.right,width:s.width,height:s.height,x:s.x,y:s.y,top:s.top,bottom:s.bottom};d=(0,a.A)((0,a.A)({},d),{},{top:s.top-u,bottom:s.bottom-u}),o(d)}else o({})}))}function v(t,e){return new Promise((function(n){var a=t.$el;if(a){var r=a.querySelectorAll(e),i=(0,o.A)(r).map((function(t){return t.getBoundingClientRect()}));n(i)}else uni.createSelectorQuery().in(t).selectAll(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(t[0])}))}))}},96007:function(t,e,n){"use strict";n.d(e,{JP:function(){return i},Rm:function(){return a},hY:function(){return r}});n(59803),n(99782),n(43988);var o=/scroll|auto|overlay/i;function a(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e){var a=window.getComputedStyle(n),r=a.overflowY;if(o.test(r))return n;n=n.parentNode}return e}function r(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function i(t){var e=t;return t.startsWith("#")||(e="#".concat(t)),e="".concat(e," > .uni-scroll-view > .uni-scroll-view"),e}},21435:function(t,e,n){"use strict";n.d(e,{Ay:function(){return E}});n(54864),n(59803),n(74861);var o={"css.var":"--a:0","css.env":"top:env(a)","css.constant":"top:constant(a)"};function a(t){return window.CSS&&CSS.supports&&(CSS.supports(t)||CSS.supports.apply(CSS,t.split(":")))}function r(t){return!!o[t]&&a(o[t])}n(174),n(28784),n(16206),n(34190),n(83805),n(91364),n(98127),n(60671),n(13740),n(32033),n(6344);var i,l,s=n(29726),c=["top","left","right","bottom"],u={},d=[];function f(){return l="CSS"in window&&"function"===typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":"",l}function p(t,e){var n=t.style;Object.keys(e).forEach((function(t){var o=e[t];n[t]=o}))}var h=[];function v(t){t?h.push(t):h.forEach((function(t){t()}))}function m(){if(l="string"===typeof l?l:f(),l){var t=document.createElement("div");p(t,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),c.forEach((function(n){e(t,n)})),document.body.appendChild(t),v(),i=!0}else c.forEach((function(t){u[t]=0}));function e(t,e){var n=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),i=100,c=1e4,d={position:"absolute",width:"".concat(i,"px"),height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:"".concat(l,"(safe-area-inset-").concat(e,")")};p(n,d),p(o,d),p(a,{transition:"0s",animation:"none",width:"400px",height:"400px"}),p(r,{transition:"0s",animation:"none",width:"250%",height:"250%"}),n.appendChild(a),o.appendChild(r),t.appendChild(n),t.appendChild(o),v((function(){o.scrollTop=c,n.scrollTop=c;var t=n.scrollTop,a=o.scrollTop;function r(){this.scrollTop!==(this===n?t:a)&&(o.scrollTop=c,n.scrollTop=c,t=n.scrollTop,a=o.scrollTop,b(e))}n.addEventListener("scroll",r,s.FX),o.addEventListener("scroll",r,s.FX)}));var f=getComputedStyle(n);Object.defineProperty(u,e,{configurable:!0,get:function(){return parseFloat(f.paddingBottom)}})}}function g(t){return i||m(),u[t]}var y=[];function b(t){y.length||setTimeout((function(){var t={};y.forEach((function(e){t[e]=u[e]})),y.length=0,d.forEach((function(e){e(t)}))}),0),y.push(t)}function w(t){f()&&(i||m(),"function"===typeof t&&d.push(t))}function C(t){var e=d.indexOf(t);e>=0&&d.splice(e,1)}var S={get support(){return 0!=("string"===typeof l?l:f()).length},get top(){return g("top")},get left(){return g("left")},get right(){return g("right")},get bottom(){return g("bottom")},onChange:w,offChange:C},_=44;function E(){if(r("css.var")){var t=document.documentElement.style,e=parseInt((t.getPropertyValue("--window-top").match(/\d+/)||["0"])[0],10),n=parseInt((t.getPropertyValue("--window-bottom").match(/\d+/)||["0"])[0],10),o=parseInt((t.getPropertyValue("--window-left").match(/\d+/)||["0"])[0],10),a=parseInt((t.getPropertyValue("--window-right").match(/\d+/)||["0"])[0],10),i=parseInt((t.getPropertyValue("--top-window-height").match(/\d+/)||["0"])[0],10);return{top:(e?e+S.top:0)+(i||0),bottom:n?n+S.bottom:0,left:o?o+S.left:0,right:a?a+S.right:0}}var l=0,s=0,c=getCurrentPages();if(c.length){var u=c[c.length-1].$parent.$parent,d=u.navigationBar.type;l="default"===d||"float"===d?_:0}return{top:l,bottom:s,left:0,right:0}}},23931:function(t,e,n){"use strict";n.r(e);var o=n(10809),a=n.n(o),r=n(34114),i=n.n(r),l=i()(a());l.push([t.id,"",""]),e["default"]=l},36920:function(t,e,n){"use strict";n.r(e);var o=n(10809),a=n.n(o),r=n(34114),i=n.n(r),l=i()(a());l.push([t.id,".press-rate[data-v-9efc4be6]{display:inline-flex;-webkit-user-select:none;user-select:none}.press-rate__item[data-v-9efc4be6]{position:relative;padding:0 var(--rate-horizontal-padding,2px)}.press-rate__item[data-v-9efc4be6]:not(:last-child){padding-right:var(--rate-icon-gutter,4px)}.press-rate__icon[data-v-9efc4be6]{display:block;height:1em;color:var(--rate-icon-void-color,#c8c9cc);font-size:var(--rate-icon-size,20px)}.press-rate__icon--half[data-v-9efc4be6]{position:absolute;top:0;width:.5em;overflow:hidden;left:var(--rate-horizontal-padding,2px);color:var(--rate-icon-full-color,#ee0a24)}.press-rate__icon--full[data-v-9efc4be6]{color:var(--rate-icon-full-color,#ee0a24)}.press-rate__icon--disabled[data-v-9efc4be6]{color:var(--rate-icon-disabled-color,#c8c9cc)}",""]),e["default"]=l}}]);