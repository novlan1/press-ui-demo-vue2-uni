(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[5461],{49568:function(t,e,n){var o=n(43121);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var r=n(75970).A;r("e4c4841c",o,!0,{sourceMap:!1,shadowMode:!1})},95461:function(t,e,n){"use strict";var o;n.d(e,{A:function(){return _}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"sticky",staticClass:"press-sticky",class:t.customClass,style:t.containerStyle},[n("div",{class:t.wrapClass,style:t.wrapStyle},[t._t("default")],2)])])},i=[],s=n(50557);n(98756),n(96194);var c=n(20731),a=(n(35868),n(11680),n(91364),n(98127),n(824),n(13740),n(32033),n(24540),n(6344),n(56389),n(55372)),l=n(87350),u=n(98277),f=n(27842),d=n(59974),h=n(95887),p=n(98489);n(50524),n(16206),n(71292);function v(){var t=getCurrentPages();return t[t.length-1]}function g(t){var e=v(),n=e.pressPageScroller,o=void 0===n?[]:n;o.forEach((function(e){"function"===typeof e&&e(t)}))}var m=function(t){return{created:function(){var e=v();(0,h.C8)(e)&&(Array.isArray(e.pressPageScroller)?e.pressPageScroller.push(t.bind(this)):e.pressPageScroller="function"===typeof e.onPageScroll?[e.onPageScroll.bind(e),t.bind(this)]:[t.bind(this)],e.onPageScroll=g)},destroy:function(){var e,n=v();(0,h.C8)(n)&&(n.pressPageScroller=(null===(e=n.pressPageScroller)||void 0===e?void 0:e.filter((function(e){return e!==t})))||[])}}},w=n(25827),y=n(54934);function S(t){return(0,y.iF)({height:t.fixed?(0,w._V)(t.height):"","z-index":t.zIndex})}function x(t){var e=t.fixed,n=t.offsetTop,o=t.transform,r=t.zIndex,i=t.customStyle;return(0,y.iF)([{transform:o?"translate3d(0, ".concat(o,"px, 0)"):"",top:e?(0,w._V)(n):"","z-index":r},i])}var b,T={containerStyle:S,wrapStyle:x},C=n(98408)["A"],A=".press-sticky",P=(m((function(t){null===this.scrollTop&&this.onScroll(t)})),{name:"PressSticky",options:(0,c.A)({},a.KQ),mixins:[(0,p.x)((function(t){this.scroller||(this.scroller=(0,u.Rm)(this.$el)),t(this.scroller,"scroll",this.onScroll,!0),t(this.scroller,"touchmove",this.onScroll,!0),this.onScroll()}))],props:(0,c.A)((0,c.A)({},a.Gs),{},{zIndex:{type:Number,default:99},offsetTop:{type:Number,default:0},disabled:{type:Boolean},container:{type:[Function,null],default:null},scrollTop:{type:[Number,null],default:null},customStyle:{type:[String,Object],default:""}}),emits:["scroll"],data:function(){return{height:0,fixed:!1,transform:0,scrollTopData:this.scrollTop}},computed:{containerStyle:function(){var t=this.fixed,e=this.height,n=this.zIndex,o=T.containerStyle({fixed:t,height:e,zIndex:n});return o},wrapStyle:function(){var t=this.fixed,e=this.offsetTop,n=this.transform,o=this.zIndex,r=this.customStyle,i=T.wrapStyle({fixed:t,offsetTop:e,transform:n,zIndex:o,customStyle:r});return i},wrapClass:function(){var t=this.fixed;return d.Ay.bem2("sticky-wrap",{fixed:t})}},watch:{offsetTop:{handler:function(){this.onScroll()}},disabled:{handler:function(){this.onScroll()}},container:{handler:function(){this.onScroll()}},scrollTop:{handler:function(t){this.onScroll({scrollTop:t}),this.scrollTopData=t}}},created:function(){},mounted:function(){this.scrollTopData=this.scrollTop,this.onScroll()},methods:{setData:function(t){var e=this;Object.keys(t).forEach((function(n){e[n]=t[n]}))},onScroll:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scrollTop,o=this.container,r=this.offsetTop,i=this.disabled;i?this.setDataAfterDiff({fixed:!1,transform:0}):(this.scrollTopData=n||this.scrollTopData,"function"===typeof o&&o()?Promise.all([(0,l.l)(this,A),this.getContainerRect()]).then((function(e){var n=(0,s.A)(e,2),o=n[0],i=n[1];o&&i&&r+o.height>i.height+i.top?t.setDataAfterDiff({fixed:!1,transform:i.height-o.height}):o&&r>=o.top?t.setDataAfterDiff({fixed:!0,height:o.height,transform:0}):t.setDataAfterDiff({fixed:!1,transform:0})})).catch((function(t){C.warn("error",t)})):(0,l.l)(this,A).then((function(e){(0,h.C8)(e)&&(r>=e.top?(t.setDataAfterDiff({fixed:!0,height:e.height}),t.transform=0):t.setDataAfterDiff({fixed:!1}))})))},setDataAfterDiff:function(t){var e=this;(0,f.dY)((function(){var n=Object.keys(t).reduce((function(n,o){return t[o]!==e[o]&&(n[o]=t[o]),n}),{});Object.keys(n).length>0&&e.setData(n),e.$emit("scroll",{scrollTop:e.scrollTopData,isFixed:t.fixed||e.fixed})}))},getContainerRect:function(){var t,e=this.container(),n=e.getBoundingClientRect();return t=Promise.resolve(n),t}}}),D=P,E=(n(49568),n(81904)),k=(0,E.A)(D,r,i,!1,null,"0d0ba630",null,!1,o,b),_=k.exports},87350:function(t,e,n){"use strict";n.d(e,{Hj:function(){return h},KY:function(){return v},No:function(){return f},UN:function(){return u},ZA:function(){return d},l:function(){return p}});var o=n(10819),r=n(20731),i=(n(15186),n(98127),n(59803),n(55026),n(18585)),s=n(59974),c=n(64171),a=n(40379),l=n(98277);function u(t){var e=(0,i.Ay)(),n=e.top,o=void 0===n?0:n;return(0,s.n1)()||(0,a.S)()?t-o:t}function f(){if((0,s.n1)()){var t=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),e=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height),n=(0,i.Ay)(),o=n.top,r=n.bottom;return e-=o,e-=r,{windowWidth:t,windowHeight:e,windowTop:o,windowBottom:r}}var a=(0,c.jq)(),l=a.windowWidth,u=a.windowHeight,f=a.windowTop,d=a.windowBottom;return{windowWidth:l,windowHeight:u,windowTop:f,windowBottom:d}}function d(){if((0,s.n1)())return 0;var t=(0,c.jq)(),e=t.statusBarHeight;return e}function h(t,e){return new Promise((function(n){var o=(0,l.JP)(e),r=t.$el;if(r){var i=r.querySelector(o);return i||n({}),void n({scrollHeight:i.scrollHeight,scrollTop:i.scrollTop})}uni.createSelectorQuery().in(t).select(o).fields({scrollOffset:!0},(function(t){n(t)})).exec()}))}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(o){var s=null===t||void 0===t?void 0:t.$el,c=null===s||void 0===s?void 0:s.querySelector(e);if(!c&&n&&(c=document.querySelector(e)),c){var a=c.getBoundingClientRect()||{},l=(0,i.Ay)(),u=l.top,f={left:a.left,right:a.right,width:a.width,height:a.height,x:a.x,y:a.y,top:a.top,bottom:a.bottom};f=(0,r.A)((0,r.A)({},f),{},{top:a.top-u,bottom:a.bottom-u}),o(f)}else o({})}))}function v(t,e){return new Promise((function(n){var r=t.$el;if(r){var i=r.querySelectorAll(e),s=(0,o.A)(i).map((function(t){return t.getBoundingClientRect()}));n(s)}else uni.createSelectorQuery().in(t).selectAll(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(t[0])}))}))}},98277:function(t,e,n){"use strict";n.d(e,{JP:function(){return s},Rm:function(){return r},hY:function(){return i}});n(59803),n(99782),n(43988);var o=/scroll|auto|overlay/i;function r(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e){var r=window.getComputedStyle(n),i=r.overflowY;if(o.test(i))return n;n=n.parentNode}return e}function i(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function s(t){var e=t;return t.startsWith("#")||(e="#".concat(t)),e="".concat(e," > .uni-scroll-view > .uni-scroll-view"),e}},18585:function(t,e,n){"use strict";n.d(e,{Ay:function(){return C}});n(54864),n(59803),n(74861);var o={"css.var":"--a:0","css.env":"top:env(a)","css.constant":"top:constant(a)"};function r(t){return window.CSS&&CSS.supports&&(CSS.supports(t)||CSS.supports.apply(CSS,t.split(":")))}function i(t){return!!o[t]&&r(o[t])}n(174),n(28784),n(16206),n(34190),n(83805),n(91364),n(98127),n(60671),n(13740),n(32033),n(6344);var s,c,a=n(75240),l=["top","left","right","bottom"],u={},f=[];function d(){return c="CSS"in window&&"function"===typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":"",c}function h(t,e){var n=t.style;Object.keys(e).forEach((function(t){var o=e[t];n[t]=o}))}var p=[];function v(t){t?p.push(t):p.forEach((function(t){t()}))}function g(){if(c="string"===typeof c?c:d(),c){var t=document.createElement("div");h(t,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),l.forEach((function(n){e(t,n)})),document.body.appendChild(t),v(),s=!0}else l.forEach((function(t){u[t]=0}));function e(t,e){var n=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=100,l=1e4,f={position:"absolute",width:"".concat(s,"px"),height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:"".concat(c,"(safe-area-inset-").concat(e,")")};h(n,f),h(o,f),h(r,{transition:"0s",animation:"none",width:"400px",height:"400px"}),h(i,{transition:"0s",animation:"none",width:"250%",height:"250%"}),n.appendChild(r),o.appendChild(i),t.appendChild(n),t.appendChild(o),v((function(){o.scrollTop=l,n.scrollTop=l;var t=n.scrollTop,r=o.scrollTop;function i(){this.scrollTop!==(this===n?t:r)&&(o.scrollTop=l,n.scrollTop=l,t=n.scrollTop,r=o.scrollTop,y(e))}n.addEventListener("scroll",i,a.FX),o.addEventListener("scroll",i,a.FX)}));var d=getComputedStyle(n);Object.defineProperty(u,e,{configurable:!0,get:function(){return parseFloat(d.paddingBottom)}})}}function m(t){return s||g(),u[t]}var w=[];function y(t){w.length||setTimeout((function(){var t={};w.forEach((function(e){t[e]=u[e]})),w.length=0,f.forEach((function(e){e(t)}))}),0),w.push(t)}function S(t){d()&&(s||g(),"function"===typeof t&&f.push(t))}function x(t){var e=f.indexOf(t);e>=0&&f.splice(e,1)}var b={get support(){return 0!=("string"===typeof c?c:d()).length},get top(){return m("top")},get left(){return m("left")},get right(){return m("right")},get bottom(){return m("bottom")},onChange:S,offChange:x},T=44;function C(){if(i("css.var")){var t=document.documentElement.style,e=parseInt((t.getPropertyValue("--window-top").match(/\d+/)||["0"])[0],10),n=parseInt((t.getPropertyValue("--window-bottom").match(/\d+/)||["0"])[0],10),o=parseInt((t.getPropertyValue("--window-left").match(/\d+/)||["0"])[0],10),r=parseInt((t.getPropertyValue("--window-right").match(/\d+/)||["0"])[0],10),s=parseInt((t.getPropertyValue("--top-window-height").match(/\d+/)||["0"])[0],10);return{top:(e?e+b.top:0)+(s||0),bottom:n?n+b.bottom:0,left:o?o+b.left:0,right:r?r+b.right:0}}var c=0,a=0,l=getCurrentPages();if(l.length){var u=l[l.length-1].$parent.$parent,f=u.navigationBar.type;c="default"===f||"float"===f?T:0}return{top:c,bottom:a,left:0,right:0}}},98489:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var o=n(84058),r=0;function i(t){var e="binded_".concat(r);function n(){var n=this;n[e]||(t.call(n,o.on,!0),n[e]=!0)}function i(){var n=this;n[e]&&(t.call(n,o.AU,!1),n[e]=!1)}return r+=1,{mounted:n,activated:n,deactivated:i,beforeDestroy:i}}},43121:function(t,e,n){"use strict";n.r(e);var o=n(10809),r=n.n(o),i=n(34114),s=n.n(i),c=s()(r());c.push([t.id,".press-sticky[data-v-0d0ba630]{position:relative}.press-sticky-wrap--fixed[data-v-0d0ba630]{position:fixed;right:0;left:0}",""]),e["default"]=c}}]);