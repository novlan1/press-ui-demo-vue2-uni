(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[555],{15482:function(t,e,a){var r=a(44299);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var s=a(75970).A;s("3412907f",r,!0,{sourceMap:!1,shadowMode:!1})},84167:function(t,e,a){var r=a(67200);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var s=a(75970).A;s("b5febb72",r,!0,{sourceMap:!1,shadowMode:!1})},63234:function(t,e,a){"use strict";var r;a.r(e),a.d(e,{default:function(){return I}});var s,n,i,o,l,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"demo-wrap"},[a("demo-block",{attrs:{title:t.t("textWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{content:"Press","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("imageWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("customGap")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,"gap-x":30,"gap-y":10,opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("customRotate")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{image:t.image,rotate:"22",opacity:"0.2","full-page":!1}})],1)]),a("demo-block",{attrs:{title:t.t("displayRange")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressButton",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.fullPage=!t.fullPage}}},[t._v(t._s(t.t("switch")))]),a("PressWatermark",{attrs:{"full-page":t.fullPage,opacity:"0.2",image:t.image}})],1)]),a("demo-block",{attrs:{title:t.t("htmlWatermark")}},[a("div",{staticClass:"demo-watermark-wrapper"},[a("PressWatermark",{attrs:{width:150,"full-page":!1,watermark:t.watermark},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticStyle:{background:"linear-gradient(45deg, #000 0, #000 50%, #fff 50%)"}},[a("p",{staticStyle:{"mix-blend-mode":"difference",color:"#fff"}},[t._v("Press watermark")])])]},proxy:!0}])})],1)])],1)},c=[],g=a(75486),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PressWatermarkWeb",{attrs:{"gap-x":t.gapX,"gap-y":t.gapY,image:t.image,width:t.width,height:t.height,rotate:t.rotate,"z-index":t.zIndex,content:t.content,opacity:t.opacity,"full-page":t.fullPage,"text-color":t.textColor},scopedSlots:t._u([{key:"content",fn:function(){return[t._t("content")]},proxy:!0}],null,!0)})},p=[],d=a(20731),f=(a(11680),{gapX:{type:Number,default:0},gapY:{type:Number,default:0},image:{type:String,default:""},width:{type:Number,default:100},height:{type:Number,default:100},rotate:{type:[Number,String],default:-22},zIndex:{type:[Number,String],default:100},content:{type:String,default:""},opacity:{type:[Number,String],default:1},fullPage:{type:Boolean,default:!1},textColor:{type:String,default:"#dcdee0"}}),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"press-watermark",class:{"press-watermark--full":t.fullPage},style:t.computedStyle},[a("div",{ref:"svgElRef",staticClass:"press-watermark__wrapper"},[t.image&&!t.$slots.content?a("svg",{style:t.styles({padding:"0 "+t.gapX+"px "+t.gapY+"px 0",opacity:t.opacity}),attrs:{viewBox:"0 0 "+t.svgWidth+" "+t.svgHeight,width:t.svgWidth,height:t.svgHeight,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},domProps:{innerHTML:t._s(t.imageHtml)}}):a("svg",{style:t.styles({padding:"0 "+t.gapX+"px "+t.gapY+"px 0",opacity:t.opacity}),attrs:{viewBox:"0 0 "+t.svgWidth+" "+t.svgHeight,width:t.svgWidth,height:t.svgHeight,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[a("foreignObject",{attrs:{x:"0",y:"0",width:t.width,height:t.height}},[a("div",{style:t.rotateStyle,attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[t._t("content",[a("span",{style:"color: "+t.textColor},[t._v(t._s(t.content))])])],2)])],1)])])},k=[],w=(a(174),a(98127),a(824),a(56389),a(26356),a(88028),a(4108),a(76527),a(39306),a(48589),a(74222)),v=a(98408)["A"],y=function(t){return new Promise((function(e){var a=document.createElement("canvas"),r=new Image;r.crossOrigin="anonymous",r.referrerPolicy="no-referrer",r.onload=function(){a.width=r.naturalWidth,a.height=r.naturalHeight;var t=a.getContext("2d");null===t||void 0===t||t.drawImage(r,0,0),v.log("canvas.width",a.width),v.log("canvas.height",a.height),e(a.toDataURL())},r.src=t}))},x=function(t){var e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)},W=a(98408)["A"],b={name:"PressWatermarkWeb",props:(0,d.A)({},f),data:function(){return{imageBase64:"",watermarkUrl:""}},computed:{computedStyle:function(){return(0,w.Ay)({backgroundImage:"url(".concat(this.watermarkUrl,")"),zIndex:this.zIndex})},rotateStyle:function(){return(0,w.Ay)({transformOrigin:"center",transform:"rotate(".concat(this.rotate,"deg)")})},svgWidth:function(){return this.width+this.gapX},svgHeight:function(){return this.height+this.gapY},imageHtml:function(){var t=this.imageBase64,e=this.width,a=this.height,r=this.rotateStyle;return'<image\n          href="'.concat(t,'"\n          xlink:href="').concat(t,'"\n          x="0"\n          y="0"\n          width="').concat(e,'"\n          height="').concat(a,'"\n          style="').concat(r,'"\n        />')}},watch:{image:{handler:function(){var t=this;y(this.image).then((function(e){t.imageBase64=e}))},immediate:!0},imageBase64:function(){var t=this;setTimeout((function(){t.generateWatermarkUrl()}))},content:"generateWatermarkUrl",textColor:"generateWatermarkUrl",height:"generateWatermarkUrl",width:"generateWatermarkUrl",rotate:"generateWatermarkUrl",gapX:"generateWatermarkUrl",gapY:"generateWatermarkUrl"},mounted:function(){var t=this;W.log("slots",this.$slots),setTimeout((function(){t.generateWatermarkUrl()}))},methods:{styles:w.Ay,generateWatermarkUrl:function(){this.$refs.svgElRef&&(this.revokeWatermarkUrl(),this.watermarkUrl=x(this.$refs.svgElRef.innerHTML))},revokeWatermarkUrl:function(){this.watermarkUrl&&URL.revokeObjectURL(this.watermarkUrl)}}},_=b,P=(a(84167),a(81904)),U=(0,P.A)(_,h,k,!1,null,"72366f66",null,!1,n,i),C=U.exports,S={name:"PressWatermark",components:{PressWatermarkWeb:C},props:(0,d.A)((0,d.A)({},f),{},{watermark:{type:String,default:""}}),data:function(){return{}},mounted:function(){},methods:{}},R=S,A=(0,P.A)(R,u,p,!1,null,"78cc4f94",null,!1,s,o),H=A.exports,z={i18n:{"zh-CN":{switch:"切换",customOpacity:"自定义透明度",customGap:"自定义间隔",customImage:"自定义图片",customRotate:"自定义倾斜角度",displayRange:"显示范围",htmlWatermark:"HTML 水印",textWatermark:"文字水印",imageWatermark:"图片水印"},"en-US":{switch:"Switch",customOpacity:"Custom opacity",customGap:"Custom Gap",customRotate:"Custom Rotate",displayRange:"Display Range",htmlWatermark:"HTML Watermark",textWatermark:"Text Watermark",imageWatermark:"Image Watermark"}},components:{PressWatermark:H,PressButton:g.A},data:function(){return{fullPage:!1,image:"https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/press/img/press-ui-full-logo.png",watermark:'<div\n              style="background: linear-gradient(45deg, #000 0, #000 50%, #fff 50%);"\n            >\n              <p style="mix-blend-mode: difference; color: #fff">\n                Press watermark\n              </p>\n            </div>'}},methods:{}},B=z,M=(a(15482),(0,P.A)(B,m,c,!1,null,"5cb27ee8",null,!1,r,l)),I=M.exports},44299:function(t,e,a){"use strict";a.r(e);var r=a(10809),s=a.n(r),n=a(34114),i=a.n(n),o=i()(s());o.push([t.id,".demo-watermark-wrapper[data-v-5cb27ee8]{position:relative;height:150px;background-color:#fff;padding:16px}",""]),e["default"]=o},67200:function(t,e,a){"use strict";a.r(e);var r=a(10809),s=a.n(r),n=a(34114),i=a.n(n),o=i()(s());o.push([t.id,".press-watermark[data-v-72366f66]{--press-watermark-z-index:100;position:absolute;height:100%;width:100%;left:0;top:0;z-index:var(--press-watermark-z-index);background-repeat:repeat;pointer-events:none}.press-watermark__wrapper[data-v-72366f66]{display:none}.press-watermark--full[data-v-72366f66]{position:fixed}",""]),e["default"]=o}}]);