"use strict";(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[7263],{19916:function(n,e,t){var o;t.r(e),t.d(e,{default:function(){return G}});var i,a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"demo-wrap"},[t("demo-block",{attrs:{title:n.t("basicUsage")}},[t("PressArea",{attrs:{"area-list":n.areaList},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.onConfirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.onCancel.apply(void 0,arguments)}}})],1),t("demo-block",{attrs:{title:n.t("title2")}},[t("PressArea",{attrs:{"area-list":n.areaList,value:"440304"},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.onConfirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.onCancel.apply(void 0,arguments)}}})],1),t("demo-block",{attrs:{title:n.t("title3")}},[t("PressArea",{attrs:{"area-list":n.areaList,"columns-num":2,value:"440304"},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.onConfirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.onCancel.apply(void 0,arguments)}}})],1),t("demo-block",{attrs:{title:n.t("title4")}},[t("PressArea",{attrs:{"area-list":n.areaList,value:"440304","columns-placeholder":n.t("columnsPlaceholder")},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.onConfirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.onCancel.apply(void 0,arguments)}}})],1),t("demo-block",{attrs:{title:n.t("parseData")}},[t("PressArea",{attrs:{"area-list":n.parseData(n.areaList),value:"070000"},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.onConfirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.onCancel.apply(void 0,arguments)}}})],1),t("demo-block",{attrs:{title:n.t("withPopup")}},[t("PressCell",{attrs:{title:"Normal","is-link":!0},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.onShowAreaPopup("")}}}),t("PressCell",{attrs:{title:"E-Sport","is-link":!0},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.onShowAreaPopup("e-sport")}}})],1),t("PressAreaPopup",{attrs:{show:n.showPopup,"area-list":n.areaList,value:n.selectArea,type:n.areaType},on:{"update:show":function(e){arguments[0]=e=n.$handleEvent(e),function(e){return n.showPopup=e}.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.onConfirmArea.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.onCancelPopup.apply(void 0,arguments)}}})],1)},r=[],u=(t(174),t(15186),t(98127),t(55026),t(56389),t(62456));t(35868),t(86810),t(91364),t(13740),t(24540);function s(n){var e=n||{},t=e.province_list,o=void 0===t?{}:t,i=e.city_list,a=void 0===i?{}:i,r={},u={ALL:{value:"07",label:"全部"},OFFLINE:{value:"08",label:"线下"},ONLINE:{value:"09",label:"线上"}},s=u.OFFLINE.value;return r.city_list=Object.keys(o).reduce((function(n,e){var t=s+e.slice(0,4);return n[t]=o[e],n}),{}),r.province_list=Object.keys(u).reduce((function(n,e){var t=u[e];return n["".concat(t.value,"0000")]=t.label,n}),{}),r.county_list=Object.keys(a).reduce((function(n,e){var t=s+e.slice(0,4);return n[t]=a[e],n}),{}),r}var l,c,h,p,d=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[n.isESport?t("PressPopup",{attrs:{"is-show":n.show,button:"确定","close-icon":!0,title:"选择地区"},on:{confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.confirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.popupChanged(!1)}}},[t("PressArea",{ref:"pressArea",attrs:{"area-list":n.areaList,value:n.value,"show-toolbar":!1,"columns-num":n.columnsNum,"columns-placeholder":n.columnsPlaceholder,"use-momentum":n.useMomentum,"swipe-duration":n.swipeDuration,"active-class":n.activeClass,"toolbar-class":n.toolbarClass,"column-class":n.columnClass}})],1):t("PressPopupPlus",{attrs:{show:n.show,position:"bottom"},on:{input:function(e){arguments[0]=e=n.$handleEvent(e),n.popupChanged.apply(void 0,arguments)}}},[t("PressArea",{ref:"pressArea",attrs:{title:"选择地区","area-list":n.areaList,value:n.value,"columns-num":n.columnsNum,"columns-placeholder":n.columnsPlaceholder,"use-momentum":n.useMomentum,"swipe-duration":n.swipeDuration,"active-class":n.activeClass,"toolbar-class":n.toolbarClass,"column-class":n.columnClass},on:{cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.popupChanged(!1)},confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.confirm.apply(void 0,arguments)}}})],1)],1)},f=[],v=(t(11680),t(89754)),m=t(17741),g=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("PressPicker",{ref:"pressPicker",class:["press-area__picker",n.customClass],attrs:{"active-class":n.activeClass,"toolbar-class":n.toolbarClass,"column-class":n.columnClass,"show-toolbar":n.showToolbar,"value-key":"name",title:n.title,loading:n.loading,columns:n.computedColumns,"item-height":n.itemHeight,"visible-item-count":n.visibleItemCount,"cancel-button-text":n.cancelButtonText,"confirm-button-text":n.confirmButtonText,"use-momentum":n.useMomentum,"swipe-duration":n.swipeDuration},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.onChange.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=n.$handleEvent(e),n.onConfirm.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=n.$handleEvent(e),n.onCancel.apply(void 0,arguments)}}})},y=[],C=t(50557),P=t(20731),b=(t(50524),t(28784),t(16206),t(38469),t(824),t(71292),t(97468)),A=t(31122),w=t(69882),$=t(7470),k="000000",E={name:"PressArea",options:(0,P.A)((0,P.A)({},b.KQ),{},{styleIsolation:"shared"}),components:{PressPicker:w.A},props:(0,P.A)((0,P.A)((0,P.A)({},$.p),{},{showToolbar:{type:Boolean,default:!0},value:{type:String,default:""},areaList:{type:Object,default:function(){return{}}},columnsNum:{type:Number,default:3},columnsPlaceholder:{type:Array,default:function(){return[]}}},b.Gs),{},{activeClass:{type:String,default:""},toolbarClass:{type:String,default:""},columnClass:{type:String,default:""},useMomentum:{type:Boolean,default:!1},swipeDuration:{type:[Number,String],default:1e3}}),emits:["cancel","confirm","change"],data:function(){return{columns:[{values:[]},{values:[]},{values:[]}],typeToColumnsPlaceholder:{},code:this.value}},computed:{computedColumns:function(){var n=this.columns,e=this.columnsNum;return u.A.displayColumns(n,e)}},watch:{value:{handler:function(n){this.code=n,this.setValues()}},areaList:{handler:function(){this.setValues()}},columnsPlaceholder:{handler:function(n){this.typeToColumnsPlaceholder={province:n[0]||"",city:n[1]||"",county:n[2]||""}},immediate:!0}},created:function(){},mounted:function(){var n=this;(0,A.xi)((function(){n.setValues()})),setTimeout((function(){n.setValues()}),300)},methods:{getPicker:function(){return null==this.picker&&(this.picker=this.$refs.pressPicker),this.picker},onCancel:function(n){return this.emit("cancel",n),n},onConfirm:function(n){var e=n.index,t=n.value;t=this.parseValues(t);var o={value:t,index:e};return this.emit("confirm",o),o},emit:function(n,e){e.values=e.value,delete e.value,this.$emit(n,e)},parseValues:function(n){var e=this.columnsPlaceholder;return n.map((function(n,t){return!n||n.code&&n.name!==e[t]?n:(0,P.A)((0,P.A)({},n),{},{code:"",name:""})}))},onChange:function(n){var e,t=this,o=n.index,i=n.value;this.code=i[o].code;var a=this.getPicker();null===(e=this.setValues())||void 0===e||e.then((function(){t.$emit("change",{values:t.parseValues(a.getValues()),index:o})}))},getConfig:function(n){var e=this.areaList;return e&&e["".concat(n,"_list")]||{}},getList:function(n,e){if("province"!==n&&!e)return[];var t=this.typeToColumnsPlaceholder,o=this.getConfig(n),i=Object.keys(o).map((function(n){return{code:n,name:o[n]}}));if(null!=e&&("9"===e[0]&&"city"===n&&(e="9"),i=i.filter((function(n){return 0===n.code.indexOf(e)}))),t[n]&&i.length){var a="province"===n?"":"city"===n?k.slice(2,4):k.slice(4,6);i.unshift({code:"".concat(e).concat(a),name:t[n]})}return i},getIndex:function(n,e){var t="province"===n?2:"city"===n?4:6,o=this.getList(n,e.slice(0,t-2));"9"===e[0]&&"province"===n&&(t=1),e=e.slice(0,t);for(var i=0;i<o.length;i++)if(o[i].code.slice(0,t)===e)return i;return 0},setValues:function(){var n=this.getPicker();if(n){var e=this.code||this.getDefaultCode(),t=this.getList("province"),o=this.getList("city",e.slice(0,2)),i=[],a=[],r=this.columnsNum;if(r>=1&&(i.push(n.setColumnValues(0,t,!1)),a.push(this.getIndex("province",e))),r>=2&&(i.push(n.setColumnValues(1,o,!1)),a.push(this.getIndex("city",e)),o.length&&"00"===e.slice(2,4))){var u=(0,C.A)(o,1);e=u[0].code}return 3===r&&(i.push(n.setColumnValues(2,this.getList("county",e.slice(0,4)),!1)),a.push(this.getIndex("county",e))),Promise.all(i).catch((function(){})).then((function(){return n.setIndexes(a)})).catch((function(){}))}},getDefaultCode:function(){var n=this.columnsPlaceholder;if(n.length)return k;var e=Object.keys(this.getConfig("county"));if(e[0])return e[0];var t=Object.keys(this.getConfig("city"));return t[0]?t[0]:""},getValues:function(){var n=this.getPicker();return n?this.parseValues(n.getValues().filter((function(n){return!!n}))):[]},getIndexes:function(){var n=this.getPicker();return n&&(null===n||void 0===n?void 0:n.getIndexes())||[]},getDetail:function(){var n=this.getValues(),e={code:"",country:"",province:"",city:"",county:""};if(!n.length)return e;var t=n.map((function(n){return n.name}));return e.code=n[n.length-1].code,"9"===e.code[0]?(e.country=t[1]||"",e.province=t[2]||""):(e.province=t[0]||"",e.city=t[1]||"",e.county=t[2]||""),e},reset:function(n){return this.code=n||"",this.setValues()}}},x=E,L=t(81904),_=(0,L.A)(x,g,y,!1,null,"68e5ea62",null,!1,l,c),S=_.exports,T={name:"PressAreaPopup",components:{PressPopup:m.A,PressPopupPlus:v.A,PressArea:S},props:{show:{type:Boolean,default:!1},areaList:{type:Object,default:function(){return{}}},value:{type:String,default:""},type:{type:String,default:""},columnsNum:{type:Number,default:3},columnsPlaceholder:{type:Array,default:function(){return[]}},activeClass:{type:String,default:""},toolbarClass:{type:String,default:""},columnClass:{type:String,default:""},useMomentum:{type:Boolean,default:!1},swipeDuration:{type:[Number,String],default:1e3}},computed:{isESport:function(){return"e-sport"===this.type}},methods:{popupChanged:function(n){this.$emit("update:show",n)},confirm:function(){this.popupChanged(!1);var n=this.$refs.pressArea.getValues(),e=this.$refs.pressArea.getIndexes();this.$emit("confirm",n,e)}}},N=T,V=(0,L.A)(N,d,f,!1,null,null,null,!1,i,h),I=V.exports,j=t(81990),D=t(98408)["A"],O={province_list:{11e4:"Beijing",33e4:"Zhejiang",81e4:"Hong Kong"},city_list:{110100:"Beijing City",330100:"Hangzhou",330200:"Ningbo",330300:"Wenzhou",330400:"Jiaxin",331100:"Lishui",810100:"Hong Kong Island",810200:"Kowloon",810300:"New Territories"},county_list:{110101:"Dongcheng",110102:"Xicheng",110105:"Chaoyang",110106:"Fengtai",110108:"Haidian",110111:"Fangshan",110112:"Tongzhou",110113:"Shunyi",110114:"Changping",110115:"Daxing",330105:"Gongshu",330106:"Xihu",330108:"Binjiang",330109:"Xiaoshan",330110:"Yuhang",330111:"Fuyang",330127:"Chunan",330182:"Jiande",330185:"Linan",330206:"Beilun",330211:"Zhenhai",330225:"Xiangshan",330226:"Ninghai",330281:"Yuyao",330282:"Cixi",330327:"Cangnan",330328:"Wencheng",330329:"Shuntai",330381:"Ruian",330382:"Yueqing",330402:"Nanhu",330421:"Jiashan",330424:"Haiyan",330481:"Haining",330482:"Pinghu",330483:"Tongxiang",331102:"Liandu District",331121:"Qingtian County",331125:"Yunhe County",331181:"Longquan County",810101:"Central",810102:"Wan Chai",810202:"Mong Kok",810203:"Sham Shui Po",810204:"Chuk Un",810205:"Kwun Tong",810303:"Sha Tin",810305:"Yuen Long",810306:"Tuen Mun",810307:"Tsuen Wan",810309:"Lantau Island"}},B={i18n:{"zh-CN":{title2:"选中省市区",title3:"配置显示列",title4:"配置列占位提示文字",columnsPlaceholder:["请选择","请选择","请选择"],withPopup:"结合Popup",popupTitle:"选择地区",parseData:"特殊处理数据",areaList:u.W},"en-US":{title2:"Initial Value",title3:"Columns Number",title4:"Columns Placeholder",columnsPlaceholder:["Choose","Choose","Choose"],withPopup:"With Popup",popupTitle:"Select Area",parseData:"Parse Data",areaList:function(){return Promise.resolve(O)}}},components:{PressArea:S,PressCell:j.A,PressAreaPopup:I},data:function(){return{areaList:{},showPopup:!1,selectArea:"",areaType:""}},mounted:function(){this.init()},methods:{parseData:s,onConfirm:function(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];(n=D).log.apply(n,["[onConfirm]: "].concat(t))},onCancel:function(){for(var n,e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];(n=D).log.apply(n,["[onCancel]: "].concat(t))},init:function(){var n=this;this.t("areaList").then((function(e){return[n.areaList=e]}))},onChange:function(n){D.log("[onChange] value: ",n);var e=n.index,t=n.values,o=t.map((function(n){return(null===n||void 0===n?void 0:n.name)||""})).join("-");this.onGTip("".concat(o,", index: ").concat(e))},onShowAreaPopup:function(n){this.showPopup=!0,D.log("type",n),this.areaType=n||""},onCancelPopup:function(){},onConfirmArea:function(n,e){var t;D.log("[onConfirmArea] values index",n,e),this.selectArea=null===(t=n[n.length-1])||void 0===t?void 0:t.code;var o=n.map((function(n){return(null===n||void 0===n?void 0:n.name)||""})).join("-");this.onGTip("".concat(this.selectArea,": ").concat(o))}}},F=B,M=(0,L.A)(F,a,r,!1,null,"6fb9e0c6",null,!1,o,p),G=M.exports},17143:function(n,e,t){t.d(e,{U6:function(){return h},W9:function(){return s},ZC:function(){return i},eJ:function(){return l},ho:function(){return r},i0:function(){return c},ib:function(){return u},j_:function(){return p},kN:function(){return a},q1:function(){return d},zI:function(){return o}});var o="checkboxGroup",i="collapse",a="pickerPlus",r="radioGroup",u="sidebar",s="tabbar",l="tabs",c="indexBar",h="grid",p="dropdown-menu",d="row"},18868:function(n,e,t){t.d(e,{F:function(){return i}});t(98127);var o=t(80726);function i(n){return new Promise((function(e,t){(0,o.n1)()?fetch(n).then((function(n){return 200===n.status?n.json():{}})).then((function(n){e(n)})).catch((function(n){t(n)})):uni.request({url:n,data:{},method:"GET",sslVerify:!0,success:function(n){var t=n.data;e(t)},fail:function(n){t(n)}})}))}},63555:function(n,e,t){t.d(e,{b:function(){return s},G:function(){return l}});var o=t(10819),i=t(83259);t(1525),t(174),t(50524),t(28784),t(98127),t(13740),t(71292),t(15186),t(16206),t(75762),t(32033),t(55026),t(6344);function a(n){var e=[];function t(n){n.forEach((function(n){e.push(n),n.componentInstance&&t(n.componentInstance.$children.map((function(n){return n.$vnode}))),n.children&&t(n.children)}))}return t(n),e}function r(n,e){var t=e.$vnode.componentOptions;if(null!==t&&void 0!==t&&t.children){var o=a(t.children);n.sort((function(n,e){return o.indexOf(n.$vnode)-o.indexOf(e.$vnode)}))}}var u=t(98408)["A"];function s(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.indexKey||"index";return{inject:(0,i.A)({},n,{default:null}),data:function(){return{}},computed:(0,i.A)({},t,(function(){var e=this;return e.bindRelation(),e[n]?e[n].children.indexOf(this):null})),watch:{disableBindRelation:function(n){var e=this;n||e.bindRelation()}},created:function(){},mounted:function(){var n=this;n.bindRelation()},beforeDestroy:function(){var n=this;n.onBeforeMount()},methods:{bindRelation:function(){if(this[n]&&-1===this[n].children.indexOf(this)){var e=[].concat((0,o.A)(this[n].children),[this]);try{r(e,this[n])}catch(t){u.log("err",t)}this[n].children=e}},onBeforeMount:function(){var e,t=this;t[n]&&(t[n].children=t[n].children.filter((function(n){return n!==t})),null===t||void 0===t||null===(e=t.destroyCallback)||void 0===e||e.call(t))}}}}function l(n){return{provide:function(){return(0,i.A)({},n,this)},data:function(){return{}}}}},62456:function(n,e,t){t.d(e,{W:function(){return r}});t(86810);var o=t(18868),i="https://tip-components-1251917893.cos.ap-guangzhou.myqcloud.com/rb/front-open-config__match__default__area_data.json";function a(n,e){return n.slice(0,+e)}function r(){return(0,o.F)(i)}e.A={displayColumns:a}}}]);