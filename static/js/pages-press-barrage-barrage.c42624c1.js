(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[6775],{6904:function(t,e,n){var r=n(85395);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var i=n(75970).A;i("48751488",r,!0,{sourceMap:!1,shadowMode:!1})},46097:function(t,e,n){"use strict";var r;n.r(e),n.d(e,{default:function(){return k}});var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo-wrap"},[n("demo-block",{attrs:{title:t.t("basicUsage")}},[n("PressBarrage",{model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[n("div",{staticClass:"video",staticStyle:{width:"100%",height:"150px",background:"#f2f3f5"}})]),n("PressButton",{attrs:{type:"primary",size:"small","custom-style":"margin-top: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[t._v("弹幕")])],1),n("demo-block",{attrs:{title:t.t("videoBarrage")}},[n("PressBarrage",{ref:"pressBarrage",attrs:{"auto-play":!1},model:{value:t.videoList,callback:function(e){t.videoList=e},expression:"videoList"}},[n("div",{staticClass:"video",staticStyle:{width:"100%",height:"150px",background:"#f2f3f5"}})]),n("div",[n("PressButton",{attrs:{type:"primary",size:"small",disabled:!t.isPlay,"custom-style":"margin-top: 10px;margin-right: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.videoAdd.apply(void 0,arguments)}}},[t._v("弹幕")]),n("PressButton",{attrs:{type:"default",size:"small","custom-style":"margin-top: 10px;"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle.apply(void 0,arguments)}}},[t._v(t._s(t.isPlay?t.t("pause"):t.t("play")))])],1)],1)],1)},o=[],s=n(10819),u=(n(174),n(36058));function l(t,e,n){return"function"===typeof u.l.set&&u.l.set(t,e,n),t}var c,f,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"barrageWrapper",staticClass:"press-barrage",style:t.barrageStyle,attrs:{id:t.barrageId}},[t._t("default")],2)},p=[],h=(n(50524),n(76672),n(15186),n(16206),n(34190),n(25869),n(11680),n(98127),n(824),n(13740),n(71292),n(32033),n(55026),n(6344),n(56389),n(3727),n(23213),n(9981)),v="press-barrage__item",g=0,m={name:"PressBarrage",mixins:[(0,h.Lz)({type:[Array],defaultValue:function(){return[]}})],props:{autoPlay:{type:Boolean,default:!0},rows:{type:[Number,String],default:4},top:{type:[Number,String],default:10},duration:{type:[Number,String],default:4e3},delay:{type:Number,default:300},itemHeight:{type:Number,default:26}},data:function(){return{isInitBarrage:!0,barrageItems:[],isPlay:!1,total:0,barrageStyle:"",barrageId:""}},computed:{},watch:{realModelValue:{handler:function(t,e){this.updateBarrages(t,e)},deep:!0}},mounted:function(){var t=this;g+=1,this.barrageId="press-barrage-".concat(g),setTimeout((function(){t.init()}))},methods:{init:function(){var t=this,e=function(){setTimeout((function(){t.updateBarrages(t.realModelValue,[])}))},n=this.$refs.barrageWrapper.offsetWidth;this.barrageStyle="--move-distance: -".concat(n,"px"),e()},play:function(){this.isPlay=!0,this.barrageItems.forEach((function(t){t.style.animationPlayState="running"}))},pause:function(){this.isPlay=!1,this.barrageItems.forEach((function(t){t.style.animationPlayState="paused"}))},createBarrageItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.delay,n={};return n=document.createElement("span"),n.style.animationDuration="".concat(this.duration,"ms"),n.style.animationDelay="".concat(e,"ms"),n.style.animationTimingFunction="linear",n.className=v,n.innerText=String(t),n},appendBarrageItem:function(t,e){var n,r=this,i=t.id,a=t.text,o=this.createBarrageItem(a,this.isInitBarrage?e*this.delay:void 0);this.autoPlay||!1!==this.isPlay||(o.style.animationPlayState="paused"),null===(n=this.$refs.barrageWrapper)||void 0===n||n.append(o),this.total+=1;var u=this.itemHeight;u=o.offsetHeight;var l=(this.total-1)%+this.rows*u+ +this.top;o.style.top="".concat(l,"px"),o.id=String(i),this.barrageItems.push(o),o.addEventListener("animationend",(function(){r.emitModelValue((0,s.A)(r.realModelValue).filter((function(t){return String(t.id)!==o.id})))}))},animationend:function(t){this.emitModelValue((0,s.A)(this.realModelValue).filter((function(e){return String(e.id)!==t.id})))},updateBarrages:function(t,e){var n=this,r=new Map(e.map((function(t){return[t.id,t]})));t.forEach((function(t,e){r.has(t.id)?r.delete(t.id):n.appendBarrageItem(t,e)})),r.forEach((function(t){var e=n.barrageItems.findIndex((function(e){return e.id===String(t.id)}));e>-1&&(n.barrageItems[e].remove(),n.barrageItems.splice(e,1))})),this.isInitBarrage=!1}}},y=m,b=(n(6904),n(81904)),w=(0,b.A)(y,d,p,!1,null,"6bf17d64",null,!1,i,c),x=w.exports,S=n(15205),B={i18n:{"zh-CN":{barrage:"弹幕",play:"开始",pause:"暂停",videoBarrage:"模仿视频弹幕",lightweight:"轻量",customizable:"可定制的",mobile:"移动端",library:"组件库"},"en-US":{barrage:"barrage",play:"play",pause:"pause",videoBarrage:"Imitate video barrage",lightweight:"Lightweight",customizable:"Customizable",mobile:"Mobile",library:"Library"}},components:{PressBarrage:x,PressButton:S.A},data:function(){var t=[{id:100,text:this.t("lightweight")},{id:101,text:this.t("customizable")},{id:102,text:this.t("mobile")},{id:103,text:"Vue"},{id:104,text:this.t("library")},{id:105,text:"PressUI"},{id:106,text:"666"}];return{list:t,videoList:[].concat(t),isPlay:!1}},watch:{isPlay:{handler:function(t){var e,n;t?null===(e=this.$refs.pressBarrage)||void 0===e||e.play():null===(n=this.$refs.pressBarrage)||void 0===n||n.pause()}}},methods:{add:function(){l(this,"list",[].concat((0,s.A)(this.list),[{id:Math.random(),text:"Barrage"}]))},videoAdd:function(){l(this,"videoList",[].concat((0,s.A)(this.videoList),[{id:Math.random(),text:"Barrage"}]))},toggle:function(){this.isPlay=!this.isPlay}}},P=B,E=(0,b.A)(P,a,o,!1,null,"8eae3304",null,!1,r,f),k=E.exports},3727:function(t,e,n){"use strict";n.d(e,{Hj:function(){return p},KY:function(){return v},No:function(){return f},UN:function(){return c},ZA:function(){return d},l:function(){return h}});var r=n(10819),i=n(20731),a=(n(15186),n(98127),n(59803),n(55026),n(59852)),o=n(6661),s=n(99648),u=n(36058),l=n(1656);function c(t){var e=(0,a.Ay)(),n=e.top,r=void 0===n?0:n;return(0,o.n1)()||(0,u.S)()?t-r:t}function f(){if((0,o.n1)()){var t=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),e=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height),n=(0,a.Ay)(),r=n.top,i=n.bottom;return e-=r,e-=i,{windowWidth:t,windowHeight:e,windowTop:r,windowBottom:i}}var u=(0,s.jq)(),l=u.windowWidth,c=u.windowHeight,f=u.windowTop,d=u.windowBottom;return{windowWidth:l,windowHeight:c,windowTop:f,windowBottom:d}}function d(){if((0,o.n1)())return 0;var t=(0,s.jq)(),e=t.statusBarHeight;return e}function p(t,e){return new Promise((function(n){var r=(0,l.JP)(e),i=t.$el;if(i){var a=i.querySelector(r);return a||n({}),void n({scrollHeight:a.scrollHeight,scrollTop:a.scrollTop})}uni.createSelectorQuery().in(t).select(r).fields({scrollOffset:!0},(function(t){n(t)})).exec()}))}function h(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(r){var o=null===t||void 0===t?void 0:t.$el,s=null===o||void 0===o?void 0:o.querySelector(e);if(!s&&n&&(s=document.querySelector(e)),s){var u=s.getBoundingClientRect()||{},l=(0,a.Ay)(),c=l.top,f={left:u.left,right:u.right,width:u.width,height:u.height,x:u.x,y:u.y,top:u.top,bottom:u.bottom};f=(0,i.A)((0,i.A)({},f),{},{top:u.top-c,bottom:u.bottom-c}),r(f)}else r({})}))}function v(t,e){return new Promise((function(n){var i=t.$el;if(i){var a=i.querySelectorAll(e),o=(0,r.A)(a).map((function(t){return t.getBoundingClientRect()}));n(o)}else uni.createSelectorQuery().in(t).selectAll(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(t[0])}))}))}},1656:function(t,e,n){"use strict";n.d(e,{JP:function(){return o},Rm:function(){return i},hY:function(){return a}});n(59803),n(99782),n(43988);var r=/scroll|auto|overlay/i;function i(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e){var i=window.getComputedStyle(n),a=i.overflowY;if(r.test(a))return n;n=n.parentNode}return e}function a(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function o(t){var e=t;return t.startsWith("#")||(e="#".concat(t)),e="".concat(e," > .uni-scroll-view > .uni-scroll-view"),e}},59852:function(t,e,n){"use strict";n.d(e,{Ay:function(){return P}});n(54864),n(59803),n(74861);var r={"css.var":"--a:0","css.env":"top:env(a)","css.constant":"top:constant(a)"};function i(t){return window.CSS&&CSS.supports&&(CSS.supports(t)||CSS.supports.apply(CSS,t.split(":")))}function a(t){return!!r[t]&&i(r[t])}n(174),n(28784),n(16206),n(34190),n(83805),n(91364),n(98127),n(60671),n(13740),n(32033),n(6344);var o,s,u=n(5563),l=["top","left","right","bottom"],c={},f=[];function d(){return s="CSS"in window&&"function"===typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":"",s}function p(t,e){var n=t.style;Object.keys(e).forEach((function(t){var r=e[t];n[t]=r}))}var h=[];function v(t){t?h.push(t):h.forEach((function(t){t()}))}function g(){if(s="string"===typeof s?s:d(),s){var t=document.createElement("div");p(t,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),l.forEach((function(n){e(t,n)})),document.body.appendChild(t),v(),o=!0}else l.forEach((function(t){c[t]=0}));function e(t,e){var n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),o=100,l=1e4,f={position:"absolute",width:"".concat(o,"px"),height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:"".concat(s,"(safe-area-inset-").concat(e,")")};p(n,f),p(r,f),p(i,{transition:"0s",animation:"none",width:"400px",height:"400px"}),p(a,{transition:"0s",animation:"none",width:"250%",height:"250%"}),n.appendChild(i),r.appendChild(a),t.appendChild(n),t.appendChild(r),v((function(){r.scrollTop=l,n.scrollTop=l;var t=n.scrollTop,i=r.scrollTop;function a(){this.scrollTop!==(this===n?t:i)&&(r.scrollTop=l,n.scrollTop=l,t=n.scrollTop,i=r.scrollTop,b(e))}n.addEventListener("scroll",a,u.FX),r.addEventListener("scroll",a,u.FX)}));var d=getComputedStyle(n);Object.defineProperty(c,e,{configurable:!0,get:function(){return parseFloat(d.paddingBottom)}})}}function m(t){return o||g(),c[t]}var y=[];function b(t){y.length||setTimeout((function(){var t={};y.forEach((function(e){t[e]=c[e]})),y.length=0,f.forEach((function(e){e(t)}))}),0),y.push(t)}function w(t){d()&&(o||g(),"function"===typeof t&&f.push(t))}function x(t){var e=f.indexOf(t);e>=0&&f.splice(e,1)}var S={get support(){return 0!=("string"===typeof s?s:d()).length},get top(){return m("top")},get left(){return m("left")},get right(){return m("right")},get bottom(){return m("bottom")},onChange:w,offChange:x},B=44;function P(){if(a("css.var")){var t=document.documentElement.style,e=parseInt((t.getPropertyValue("--window-top").match(/\d+/)||["0"])[0],10),n=parseInt((t.getPropertyValue("--window-bottom").match(/\d+/)||["0"])[0],10),r=parseInt((t.getPropertyValue("--window-left").match(/\d+/)||["0"])[0],10),i=parseInt((t.getPropertyValue("--window-right").match(/\d+/)||["0"])[0],10),o=parseInt((t.getPropertyValue("--top-window-height").match(/\d+/)||["0"])[0],10);return{top:(e?e+S.top:0)+(o||0),bottom:n?n+S.bottom:0,left:r?r+S.left:0,right:i?i+S.right:0}}var s=0,u=0,l=getCurrentPages();if(l.length){var c=l[l.length-1].$parent.$parent,f=c.navigationBar.type;s="default"===f||"float"===f?B:0}return{top:s,bottom:u,left:0,right:0}}},85395:function(t,e,n){"use strict";n.r(e);var r=n(10809),i=n.n(r),a=n(34114),o=n.n(a),s=o()(i());s.push([t.id,".press-barrage[data-v-6bf17d64]{position:relative;overflow:hidden}[data-v-6bf17d64] .press-barrage__item{position:absolute;top:0;right:0;z-index:99;padding-bottom:var(--press-barrage-space,10px);opacity:.75;line-height:1;font-size:var(--press-barrage-font-size,16px);font-family:var(--press-barrage-font,inherit);font-weight:700;white-space:nowrap;color:var(--press-barrage-color,var(--press-white,#fff));text-shadow:1px 0 1px #000,0 1px 1px #000,0 -1px 1px #000,-1px 0 1px #000;-webkit-user-select:none;user-select:none;will-change:transform;-webkit-transform:translateX(110%);transform:translateX(110%);-webkit-animation-name:press-barrage-data-v-6bf17d64;animation-name:press-barrage-data-v-6bf17d64}@-webkit-keyframes press-barrage-data-v-6bf17d64{from{-webkit-transform:translateX(110%);transform:translateX(110%)}to{-webkit-transform:translateX(var(--move-distance));transform:translateX(var(--move-distance))}}@keyframes press-barrage-data-v-6bf17d64{from{-webkit-transform:translateX(110%);transform:translateX(110%)}to{-webkit-transform:translateX(var(--move-distance));transform:translateX(var(--move-distance))}}",""]),e["default"]=s},26008:function(t,e,n){"use strict";var r=n(46915);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},79358:function(t,e,n){"use strict";var r=n(5684),i=n(98998),a=n(49707),o=n(50908),s=n(75131),u=n(90369),l=n(51152),c=n(54612),f=n(51677),d=n(87101),p=n(73968),h=n(64775).fastKey,v=n(40161),g=v.set,m=v.getterFor;t.exports={getConstructor:function(t,e,n,c){var f=t((function(t,i){s(t,d),g(t,{type:e,index:r(null),first:null,last:null,size:0}),p||(t.size=0),u(i)||l(i,t[c],{that:t,AS_ENTRIES:n})})),d=f.prototype,v=m(e),y=function(t,e,n){var r,i,a=v(t),o=b(t,e);return o?o.value=n:(a.last=o={index:i=h(e,!0),key:e,value:n,previous:r=a.last,next:null,removed:!1},a.first||(a.first=o),r&&(r.next=o),p?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},b=function(t,e){var n,r=v(t),i=h(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key===e)return n};return a(d,{clear:function(){var t=this,e=v(t),n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=null),n=n.next;e.first=e.last=null,e.index=r(null),p?e.size=0:t.size=0},delete:function(t){var e=this,n=v(e),r=b(e,t);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first===r&&(n.first=i),n.last===r&&(n.last=a),p?n.size--:e.size--}return!!r},forEach:function(t){var e,n=v(this),r=o(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),a(d,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),p&&i(d,"size",{configurable:!0,get:function(){return v(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",i=m(e),a=m(r);c(t,e,(function(t,e){g(this,{type:r,target:t,state:i(t),kind:e,last:null})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?f("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=null,f(void 0,!0))}),n?"entries":"values",!n,!0),d(e)}}},44552:function(t,e,n){"use strict";var r=n(16922),i=n(40452),a=n(7812),o=n(96824),s=n(20420),u=n(64775),l=n(51152),c=n(75131),f=n(24241),d=n(90369),p=n(82054),h=n(46915),v=n(48216),g=n(51699),m=n(50947);t.exports=function(t,e,n){var y=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),w=y?"set":"add",x=i[t],S=x&&x.prototype,B=x,P={},E=function(t){var e=a(S[t]);s(S,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return b&&!p(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},k=o(t,!f(x)||!(b||S.forEach&&!h((function(){(new x).entries().next()}))));if(k)B=n.getConstructor(e,t,y,w),u.enable();else if(o(t,!0)){var C=new B,I=C[w](b?{}:-0,1)!==C,A=h((function(){C.has(1)})),z=v((function(t){new x(t)})),T=!b&&h((function(){var t=new x,e=5;while(e--)t[w](e,e);return!t.has(-0)}));z||(B=e((function(t,e){c(t,S);var n=m(new x,t,B);return d(e)||l(e,n[w],{that:n,AS_ENTRIES:y}),n})),B.prototype=S,S.constructor=B),(A||T)&&(E("delete"),E("has"),y&&E("get")),(T||I)&&E(w),b&&S.clear&&delete S.clear}return P[t]=B,r({global:!0,constructor:!0,forced:B!==x},P),g(B,t),b||n.setStrong(B,t,y),B}},80444:function(t,e,n){"use strict";var r=n(46915);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},64775:function(t,e,n){"use strict";var r=n(16922),i=n(7812),a=n(9913),o=n(82054),s=n(34525),u=n(84869).f,l=n(22828),c=n(83070),f=n(8e4),d=n(53796),p=n(80444),h=!1,v=d("meta"),g=0,m=function(t){u(t,v,{value:{objectID:"O"+g++,weakData:{}}})},y=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,v)){if(!f(t))return"F";if(!e)return"E";m(t)}return t[v].objectID},b=function(t,e){if(!s(t,v)){if(!f(t))return!0;if(!e)return!1;m(t)}return t[v].weakData},w=function(t){return p&&h&&f(t)&&!s(t,v)&&m(t),t},x=function(){S.enable=function(){},h=!0;var t=l.f,e=i([].splice),n={};n[v]=1,t(n).length&&(l.f=function(n){for(var r=t(n),i=0,a=r.length;i<a;i++)if(r[i]===v){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},S=t.exports={enable:x,fastKey:y,getWeakData:b,onFreeze:w};a[v]=!0},8e4:function(t,e,n){"use strict";var r=n(46915),i=n(82054),a=n(81788),o=n(26008),s=Object.isExtensible,u=r((function(){s(1)}));t.exports=u||o?function(t){return!!i(t)&&((!o||"ArrayBuffer"!==a(t))&&(!s||s(t)))}:s},44079:function(t,e,n){"use strict";var r=n(44552),i=n(79358);r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},25869:function(t,e,n){"use strict";n(44079)}}]);