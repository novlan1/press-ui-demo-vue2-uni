(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[579],{98619:function(t,e,n){var o=n(86630);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var r=n(75970).A;r("bcecb73e",o,!0,{sourceMap:!1,shadowMode:!1})},56894:function(t,e,n){var o=n(95225);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var r=n(75970).A;r("ce9303d8",o,!0,{sourceMap:!1,shadowMode:!1})},51280:function(t,e,n){"use strict";var o;n.r(e),n.d(e,{default:function(){return W}});var r,i,a,c,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo-wrap",style:t.wrapStyle},[n("PressIndexBar",{attrs:{"sticky-offset-top":t.stickyOffsetTop},on:{select:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelect.apply(void 0,arguments)}}},t._l(t.anchorList,(function(e,o){return n("div",{key:o},[n("PressIndexAnchor",{attrs:{index:e}}),n("PressCell",{attrs:{title:t.t("text")}}),n("PressCell",{attrs:{title:t.t("text")}}),n("PressCell",{attrs:{title:t.t("text")}})],1)})),0)],1)},l=[],d=(n(16206),n(78282)),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"press-index-anchor-wrapper",style:t.wrapperStyle},[n("div",{class:"press-index-anchor "+(t.active?"press-index-anchor--active press-hairline--bottom":""),style:t.anchorStyle},[t.useSlot?t._t("default"):[n("span",[t._v(t._s(t.index))])]],2)])])},h=[],p=n(20731),f=(n(11680),n(91364),n(98127),n(13740),n(32033),n(6344),n(72437)),v=n(72704),g=n(74627),x=n(60385),m={name:"PressIndexAnchor",options:(0,p.A)((0,p.A)({},f.KQ),{},{styleIsolation:"shared"}),mixins:[(0,x.b)(v.i0,{indexKey:"tIndex"})],props:(0,p.A)({useSlot:Boolean,index:{type:[Number,String],default:""}},f.Gs),emits:[],data:function(){return{active:!1,wrapperStyle:"",anchorStyle:""}},methods:{setData:function(t){var e=this;Object.keys(t).forEach((function(n){e[n]=t[n]}))},scrollIntoView:function(t,e){(0,g.l)(this,".press-index-anchor-wrapper").then((function(n){var o=t+n.top;null===e||void 0===e||e(o)}))}}},w=m,b=(n(98619),n(81904)),y=(0,b.A)(w,u,h,!1,null,"88adcf12",null,!1,r,i),S=y.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"press-index-bar-container"},[n("v-uni-scroll-view",{staticClass:"press-index-bar-wrapper",attrs:{id:"pressIndexBarWrapper",enhanced:!0,"scroll-with-animation":!1,"scroll-y":!0,"scroll-top":t.curScrollTop},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.onWatchScroll.apply(void 0,arguments)}}},[n("div",{staticClass:"press-index-bar"},[t._t("default")],2)]),t.showSidebar?n("div",{staticClass:"press-index-bar__sidebar",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onTouchMove.apply(void 0,arguments)},touchend:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onTouchStop.apply(void 0,arguments)},touchcancel:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.onTouchStop.apply(void 0,arguments)}}},t._l(t.indexList,(function(e,o){return n("div",{key:o,staticClass:"press-index-bar__index",style:"z-index: "+(t.zIndex+1)+"; color: "+(t.activeAnchorIndex===o?t.highlightColor:""),attrs:{"data-index":o},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onClickInner.apply(void 0,arguments)}}},[t._v(t._s(e))])})),0):t._e()],1)},C=[],A=(n(174),n(47949),n(15186),n(27197),n(824),n(57869),n(55026),n(56389),n(15072)),I=n(68164),_=n(44203),k=n(37146),E=n(98106),P=function(){for(var t=[],e="A".charCodeAt(0),n=0;n<26;n++)t.push(String.fromCharCode(e+n));return t},D={name:"PressIndexBar",options:(0,p.A)((0,p.A)({},f.KQ),{},{styleIsolation:"shared"}),mixins:[(0,x.G)(v.i0),E.G],props:(0,p.A)({sticky:{type:Boolean,default:!0},zIndex:{type:Number,default:1},highlightColor:{type:String,default:A.AV},stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:function(){return P()}}},f.Gs),emits:["select"],data:function(){return{activeAnchorIndex:null,showSidebar:!1,sidebar:{},curScrollTop:0}},created:function(){this.scrollTop=0,this.children=[]},mounted:function(){this.updateData()},methods:{setData:function(t){var e=this;Object.keys(t).forEach((function(n){e[n]=t[n]}))},updateData:function(){var t=this;(0,_.dY)((function(){null!=t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){t.showSidebar=!!t.children.length,(0,_.dY)((function(){t.setRect().then((function(){t.onScroll()}))}))}),0)}))},setRect:function(){return Promise.all([this.setAnchorsRect(),this.setListRect(),this.setSiderbarRect()])},setAnchorsRect:function(){var t=this;return Promise.all(this.children.map((function(e){return(0,g.l)(e,".press-index-anchor-wrapper").then((function(n){return Object.assign(e,{height:n.height,top:n.top+t.scrollTop}),e}))})))},setListRect:function(){var t=this;return(0,g.l)(this,".press-index-bar").then((function(e){(0,k.C8)(e)&&Object.assign(t,{height:e.height,top:e.top+t.scrollTop})}))},setSiderbarRect:function(){var t=this;return(0,g.l)(this,".press-index-bar__sidebar").then((function(e){(0,k.C8)(e)&&(t.sidebar={height:e.height,top:e.top})}))},setDiffData:function(t){var e=t.target,n=t.data,o={};Object.keys(n).forEach((function(t){e[t]!==n[t]&&(o[t]=n[t])})),Object.keys(o).length&&e.setData(o)},getAnchorRect:function(t){return(0,g.l)(t,".press-index-anchor-wrapper").then((function(t){return{height:t.height,top:t.top}}))},getActiveAnchorIndex:function(){for(var t=this.children,e=this.scrollTop,n=this.sticky,o=this.children.length-1;o>=0;o--){var r=o>0?t[o-1].height:0,i=n?r:0;if(i+e>=t[o].top)return o}return-1},onScroll:function(t){var e,n,o=this;t&&(t.target||t.detail)&&(this.scrollTop=(null===(e=t.target)||void 0===e?void 0:e.scrollTop)||(null===(n=t.detail)||void 0===n?void 0:n.scrollTop)||0);var r=this.children,i=void 0===r?[]:r,a=this.scrollTop;if(i.length){var c=this.sticky,s=this.stickyOffsetTop,l=this.zIndex,d=this.highlightColor,u=this.getActiveAnchorIndex();if(this.setDiffData({target:this,data:{activeAnchorIndex:u}}),c){var h=!1;-1!==u&&(h=i[u].top<=+a),i.forEach((function(t,e){if(e===u){var n="",r="\n              color: ".concat(d,";\n            ");h&&(n="\n                height: ".concat(i[e].height,"px;\n              "),r="\n                position: fixed;\n                top: ".concat(s,"px;\n                z-index: ").concat(l,";\n                color: ").concat(d,";\n              ")),o.setDiffData({target:t,data:{active:!0,anchorStyle:r,wrapperStyle:n}})}else if(e===u-1){var a=i[e],c=a.top,p=e===i.length-1?o.top:i[e+1].top,f=p-c,v=f-a.height,g="\n              position: relative;\n              transform: translate3d(0, ".concat(v,"px, 0);\n              z-index: ").concat(l,";\n              color: ").concat(d,";\n            ");o.setDiffData({target:t,data:{active:!0,anchorStyle:g}})}else o.setDiffData({target:t,data:{active:!1,anchorStyle:"",wrapperStyle:""}})}))}}},onClick:function(){},onTouchMove:function(t){var e,n=this.children.length,o=t.touches[0],r=this.sidebar.height/n;e=Math.floor(((0,g.UN)(o.clientY)-this.sidebar.top)/r),e<0?e=0:e>n-1&&(e=n-1),this.scrollToAnchor(e)},onTouchStop:function(){this.scrollToAnchorIndex=null},scrollToAnchor:function(t){var e=this;if("number"===typeof t&&this.scrollToAnchorIndex!==t){this.scrollToAnchorIndex=t;var n=this.children.find((function(n){return n.index===e.indexList[t]}));void 0!==n&&(n.scrollIntoView(this.scrollTop,this.changeScrollerTop),this.$emit("select",n.index))}},onClickInner:function(t){var e,n=null===(e=t.currentTarget)||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.index;void 0!==n&&this.scrollToAnchor(+n)},onWatchScroll:function(t){this.onScroll(t)},changeScrollerTop:function(t){var e,n=(0,I.JP)("pressIndexBarWrapper"),o=null===(e=document)||void 0===e?void 0:e.querySelector(n);o&&(o.scrollTop=t)}}},B=D,O=(n(56894),(0,b.A)(B,T,C,!1,null,"f8783314",null,!1,a,c)),$=O.exports,z=n(98408)["A"];function R(){for(var t=[],e=65;e<91;e++)t.push(String.fromCharCode(e));return t}var L,M=R(),j={i18n:{"zh-CN":{text:"文本",customIndexList:"自定义索引列表"},"en-US":{text:"Text",customIndexList:"Custom Index List"}},components:{PressCell:d.A,PressIndexBar:$,PressIndexAnchor:S},data:function(){var t="",e=0;return e=44,{anchorList:M,wrapStyle:t,stickyOffsetTop:e}},mounted:function(){},methods:{onSelect:function(t){z.log("[onSelect]: ",t)}}},H=j,N=(0,b.A)(H,s,l,!1,null,"24e5e1da",null,!1,o,L),W=N.exports},15072:function(t,e,n){"use strict";n.d(e,{AV:function(){return a},Jl:function(){return s},UE:function(){return i},UH:function(){return o},ft:function(){return r},mR:function(){return c}});var o="#ee0a24",r="#1989fa",i="#fff",a="#07c160",c="#323233",s="#969799"},74627:function(t,e,n){"use strict";n.d(e,{Hj:function(){return p},KY:function(){return v},No:function(){return u},UN:function(){return d},ZA:function(){return h},l:function(){return f}});var o=n(10819),r=n(20731),i=(n(15186),n(98127),n(59803),n(55026),n(23864)),a=n(38295),c=n(76604),s=n(97238),l=n(68164);function d(t){var e=(0,i.Ay)(),n=e.top,o=void 0===n?0:n;return(0,a.n1)()||(0,s.S)()?t-o:t}function u(){if((0,a.n1)()){var t=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),e=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height),n=(0,i.Ay)(),o=n.top,r=n.bottom;return e-=o,e-=r,{windowWidth:t,windowHeight:e,windowTop:o,windowBottom:r}}var s=(0,c.jq)(),l=s.windowWidth,d=s.windowHeight,u=s.windowTop,h=s.windowBottom;return{windowWidth:l,windowHeight:d,windowTop:u,windowBottom:h}}function h(){if((0,a.n1)())return 0;var t=(0,c.jq)(),e=t.statusBarHeight;return e}function p(t,e){return new Promise((function(n){var o=(0,l.JP)(e),r=t.$el;if(r){var i=r.querySelector(o);return i||n({}),void n({scrollHeight:i.scrollHeight,scrollTop:i.scrollTop})}uni.createSelectorQuery().in(t).select(o).fields({scrollOffset:!0},(function(t){n(t)})).exec()}))}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(o){var a=null===t||void 0===t?void 0:t.$el,c=null===a||void 0===a?void 0:a.querySelector(e);if(!c&&n&&(c=document.querySelector(e)),c){var s=c.getBoundingClientRect()||{},l=(0,i.Ay)(),d=l.top,u={left:s.left,right:s.right,width:s.width,height:s.height,x:s.x,y:s.y,top:s.top,bottom:s.bottom};u=(0,r.A)((0,r.A)({},u),{},{top:s.top-d,bottom:s.bottom-d}),o(u)}else o({})}))}function v(t,e){return new Promise((function(n){var r=t.$el;if(r){var i=r.querySelectorAll(e),a=(0,o.A)(i).map((function(t){return t.getBoundingClientRect()}));n(a)}else uni.createSelectorQuery().in(t).selectAll(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(t[0])}))}))}},68164:function(t,e,n){"use strict";n.d(e,{JP:function(){return a},Rm:function(){return r},hY:function(){return i}});n(59803),n(99782),n(43988);var o=/scroll|auto|overlay/i;function r(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e){var r=window.getComputedStyle(n),i=r.overflowY;if(o.test(i))return n;n=n.parentNode}return e}function i(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function a(t){var e=t;return t.startsWith("#")||(e="#".concat(t)),e="".concat(e," > .uni-scroll-view > .uni-scroll-view"),e}},23864:function(t,e,n){"use strict";n.d(e,{Ay:function(){return C}});n(54864),n(59803),n(74861);var o={"css.var":"--a:0","css.env":"top:env(a)","css.constant":"top:constant(a)"};function r(t){return window.CSS&&CSS.supports&&(CSS.supports(t)||CSS.supports.apply(CSS,t.split(":")))}function i(t){return!!o[t]&&r(o[t])}n(174),n(28784),n(16206),n(34190),n(83805),n(91364),n(98127),n(60671),n(13740),n(32033),n(6344);var a,c,s=n(9335),l=["top","left","right","bottom"],d={},u=[];function h(){return c="CSS"in window&&"function"===typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":"",c}function p(t,e){var n=t.style;Object.keys(e).forEach((function(t){var o=e[t];n[t]=o}))}var f=[];function v(t){t?f.push(t):f.forEach((function(t){t()}))}function g(){if(c="string"===typeof c?c:h(),c){var t=document.createElement("div");p(t,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),l.forEach((function(n){e(t,n)})),document.body.appendChild(t),v(),a=!0}else l.forEach((function(t){d[t]=0}));function e(t,e){var n=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),a=100,l=1e4,u={position:"absolute",width:"".concat(a,"px"),height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:"".concat(c,"(safe-area-inset-").concat(e,")")};p(n,u),p(o,u),p(r,{transition:"0s",animation:"none",width:"400px",height:"400px"}),p(i,{transition:"0s",animation:"none",width:"250%",height:"250%"}),n.appendChild(r),o.appendChild(i),t.appendChild(n),t.appendChild(o),v((function(){o.scrollTop=l,n.scrollTop=l;var t=n.scrollTop,r=o.scrollTop;function i(){this.scrollTop!==(this===n?t:r)&&(o.scrollTop=l,n.scrollTop=l,t=n.scrollTop,r=o.scrollTop,w(e))}n.addEventListener("scroll",i,s.FX),o.addEventListener("scroll",i,s.FX)}));var h=getComputedStyle(n);Object.defineProperty(d,e,{configurable:!0,get:function(){return parseFloat(h.paddingBottom)}})}}function x(t){return a||g(),d[t]}var m=[];function w(t){m.length||setTimeout((function(){var t={};m.forEach((function(e){t[e]=d[e]})),m.length=0,u.forEach((function(e){e(t)}))}),0),m.push(t)}function b(t){h()&&(a||g(),"function"===typeof t&&u.push(t))}function y(t){var e=u.indexOf(t);e>=0&&u.splice(e,1)}var S={get support(){return 0!=("string"===typeof c?c:h()).length},get top(){return x("top")},get left(){return x("left")},get right(){return x("right")},get bottom(){return x("bottom")},onChange:b,offChange:y},T=44;function C(){if(i("css.var")){var t=document.documentElement.style,e=parseInt((t.getPropertyValue("--window-top").match(/\d+/)||["0"])[0],10),n=parseInt((t.getPropertyValue("--window-bottom").match(/\d+/)||["0"])[0],10),o=parseInt((t.getPropertyValue("--window-left").match(/\d+/)||["0"])[0],10),r=parseInt((t.getPropertyValue("--window-right").match(/\d+/)||["0"])[0],10),a=parseInt((t.getPropertyValue("--top-window-height").match(/\d+/)||["0"])[0],10);return{top:(e?e+S.top:0)+(a||0),bottom:n?n+S.bottom:0,left:o?o+S.left:0,right:r?r+S.right:0}}var c=0,s=0,l=getCurrentPages();if(l.length){var d=l[l.length-1].$parent.$parent,u=d.navigationBar.type;c="default"===u||"float"===u?T:0}return{top:c,bottom:s,left:0,right:0}}},86630:function(t,e,n){"use strict";n.r(e);var o=n(10809),r=n.n(o),i=n(34114),a=n.n(i),c=a()(r());c.push([t.id,'.press-hairline--bottom[data-v-88adcf12]{position:relative}.press-hairline--bottom[data-v-88adcf12]:after{border:0 solid #ebedf0;bottom:-50%;box-sizing:border-box;content:" ";left:-50%;pointer-events:none;position:absolute;right:-50%;top:-50%;-webkit-transform:scale(.5);transform:scale(.5);-webkit-transform-origin:center;transform-origin:center;border-bottom-width:1px}.press-index-anchor[data-v-88adcf12]{padding:var(--index-anchor-padding,0 16px);color:var(--index-anchor-text-color,#323233);font-weight:var(--index-anchor-font-weight,500);font-size:var(--index-anchor-font-size,14px);line-height:var(--index-anchor-line-height,32px);background-color:var(--index-anchor-background-color,transparent)}.press-index-anchor--active[data-v-88adcf12]{right:0;left:0;color:var(--index-anchor-active-text-color,#07c160);background-color:var(--index-anchor-active-background-color,#fff)}',""]),e["default"]=c},95225:function(t,e,n){"use strict";n.r(e);var o=n(10809),r=n.n(o),i=n(34114),a=n.n(i),c=a()(r());c.push([t.id,".press-index-bar-container[data-v-f8783314],.press-index-bar-wrapper[data-v-f8783314]{height:100%}.press-index-bar[data-v-f8783314]{position:relative}.press-index-bar__sidebar[data-v-f8783314]{position:fixed;top:50%;right:0;display:flex;flex-direction:column;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;user-select:none}.press-index-bar__index[data-v-f8783314]{font-weight:500;padding:0 var(--padding-base,4px) 0 var(--padding-md,16px);font-size:var(--index-bar-index-font-size,10px);line-height:var(--index-bar-index-line-height,14px)}",""]),e["default"]=c}}]);