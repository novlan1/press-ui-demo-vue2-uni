(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[7031],{55790:function(t,e,i){var a=i(1035);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var n=i(75970).A;n("01e27d6a",a,!0,{sourceMap:!1,shadowMode:!1})},98633:function(t,e,i){"use strict";var a;i.r(e),i.d(e,{default:function(){return E}});var n,s,o,l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"demo-wrap"},[i("demo-block",{attrs:{title:t.t("basicUsage")}},[i("PressCountTo",{attrs:{"start-value":30,"end-value":500},on:{end:function(e){arguments[0]=e=t.$handleEvent(e),t.onEnd.apply(void 0,arguments)}}})],1),i("demo-block",{attrs:{title:t.t("customStyle")}},[i("PressCountTo",{attrs:{"end-value":3e3,color:"#909399","font-size":30,bold:!0}})],1),i("demo-block",{attrs:{title:t.t("duration")}},[i("PressCountTo",{attrs:{"start-value":30,"end-value":500,duration:5e3},on:{end:function(e){arguments[0]=e=t.$handleEvent(e),t.onEnd.apply(void 0,arguments)}}})],1),i("demo-block",{attrs:{title:t.t("animation")}},[i("PressCountTo",{attrs:{"start-value":30,"end-value":500,"use-easing":!1}})],1),i("demo-block",{attrs:{title:t.t("countdown")}},[i("PressCountTo",{attrs:{"start-value":500,"end-value":0}})],1),i("demo-block",{attrs:{title:t.t("decimals")}},[i("PressCountTo",{attrs:{"start-value":30,"end-value":500,decimals:2}})],1),i("demo-block",{attrs:{title:t.t("separator")}},[i("PressCountTo",{attrs:{"end-value":5e3,separator:","}})],1),i("demo-block",{attrs:{title:t.t("slot")}},[i("PressCountTo",{attrs:{"end-value":5e3,"use-slot":!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChange.apply(void 0,arguments)}}},[i("span",{staticStyle:{color:"red"}},[t._v(t._s(t.slotValue))])])],1),i("demo-block",{attrs:{title:t.t("control")}},[i("PressCountTo",{ref:"pressCountToRef",attrs:{"end-value":5e3,autoplay:t.autoplay},on:{end:function(e){arguments[0]=e=t.$handleEvent(e),t.onEnd.apply(void 0,arguments)}}})],1),i("PressGrid",{attrs:{clickable:!0,"column-num":3}},[i("PressGridItem",{attrs:{text:t.t("start"),icon:"play-circle-o"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.start.apply(void 0,arguments)}}}),i("PressGridItem",{attrs:{text:t.t("pause"),icon:"pause-circle-o"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pause.apply(void 0,arguments)}}}),i("PressGridItem",{attrs:{text:t.t("resume"),icon:"replay"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.resume.apply(void 0,arguments)}}})],1)],1)},r=[],u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"press-count-to"},[t.useSlot?t._t("default"):i("span",{staticClass:"press-count-to__number",style:t.countToStyle},[t._v(t._s(t.displayValue))])],2)},c=[],h=i(20731),d=(i(11680),i(60671),i(59803),i(99782),i(35684),i(20494)),m=i(73549),f=i(16172),p={props:{startValue:{type:[String,Number],default:0},endValue:{type:[String,Number],default:0},duration:{type:[String,Number],default:2e3},autoplay:{type:Boolean,default:!0},decimals:{type:[String,Number],default:0},useEasing:{type:Boolean,default:!0},decimal:{type:[String,Number],default:"."},color:{type:String,default:"#606266"},fontSize:{type:[String,Number],default:22},bold:{type:Boolean,default:!1},separator:{type:String,default:""},customStyle:{type:[String,Object],default:""},useSlot:{type:Boolean,default:!1}}},g=i(39789),v=i(68621),y=function(){function t(e){(0,g.A)(this,t);var i={startValue:0,endValue:0,duration:2e3,autoplay:!0,decimals:0,decimal:".",separator:"",useEasing:!0,easingFn:function(t,e,i,a){return i*(1-Math.pow(2,-10*t/a))*1024/1023+e},onChange:function(){},onEnd:function(){}};this.config=(0,h.A)((0,h.A)({},i),e),this.localStartVal=this.config.startValue,this.displayValue=this.formatNumber(this.config.startValue),this.printVal=null,this.paused=!1,this.localDuration=Number(this.config.duration),this.startTime=null,this.timestamp=null,this.remaining=null,this.rAF=null,this.lastTime=0,this.countDown=this.config.startValue>this.config.endValue,this.config.autoplay&&this.start()}return(0,v.A)(t,[{key:"requestAnimationFrame",value:function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-this.lastTime)),a=setTimeout((function(){t(e+i)}),i);return this.lastTime=e+i,a}},{key:"cancelAnimationFrame",value:function(t){clearTimeout(t)}},{key:"start",value:function(t){t&&(this.config=(0,h.A)((0,h.A)({},this.config),t||{})),this.countDown=this.config.startValue>this.config.endValue,this.localStartVal=this.config.startValue,this.startTime=null,this.localDuration=this.config.duration,this.paused=!1,this.rAF=this.requestAnimationFrame(this.count.bind(this))}},{key:"reStart",value:function(){this.paused?(this.resume(),this.paused=!1):(this.stop(),this.paused=!0)}},{key:"stop",value:function(){this.cancelAnimationFrame(this.rAF)}},{key:"resume",value:function(){this.remaining&&(this.startTime=0,this.localDuration=this.remaining,this.localStartVal=this.printVal,this.requestAnimationFrame(this.count.bind(this)))}},{key:"reset",value:function(){var t,e;this.startTime=null,this.cancelAnimationFrame(this.rAF),this.displayValue=this.formatNumber(this.config.startValue),null===(t=(e=this.config).onChange)||void 0===t||t.call(e,this.displayValue)}},{key:"count",value:function(t){var e,i;this.startTime||(this.startTime=t),this.timestamp=t;var a,n,s=t-this.startTime;(this.remaining=this.localDuration-s,this.config.useEasing?this.countDown?this.printVal=this.localStartVal-this.config.easingFn(s,0,this.localStartVal-this.config.endValue,this.localDuration):this.printVal=this.config.easingFn(s,this.localStartVal,this.config.endValue-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.config.endValue)*(s/this.localDuration):this.printVal=this.localStartVal+(this.config.endValue-this.localStartVal)*(s/this.localDuration),this.countDown?this.printVal=this.printVal<this.config.endValue?this.config.endValue:this.printVal:this.printVal=this.printVal>this.config.endValue?this.config.endValue:this.printVal,this.displayValue=this.formatNumber(this.printVal)||0,null===(e=(i=this.config).onChange)||void 0===e||e.call(i,this.displayValue),s<this.localDuration)?this.rAF=this.requestAnimationFrame(this.count.bind(this)):null===(a=(n=this.config).onEnd)||void 0===a||a.call(n)}},{key:"formatNumber",value:function(t){t=Number(t),t=t.toFixed(Number(this.config.decimals)),t+="";var e=t.split("."),i=e[0],a=e.length>1?this.config.decimal+e[1]:"",n=/(\d+)(\d{3})/;if(this.config.separator&&!this.isNumber(this.config.separator))while(n.test(i))i=i.replace(n,"$1".concat(this.config.separator,"$2"));return i+a}},{key:"isNumber",value:function(t){return!isNaN(parseFloat(t))}},{key:"destroy",value:function(){this.cancelAnimationFrame(this.rAF)}}])}(),V={name:"PressCountTo",options:(0,h.A)((0,h.A)({},(0,d.m$)(!0,!1)),{},{styleIsolation:"shared"}),mixins:[p],emits:["change","end"],data:function(){return{countToInstance:null,displayValue:this.formatNumber(this.startValue)}},computed:{countToStyle:function(){var t=this.customStyle,e=this.fontSize,i=this.bold,a=this.color;return(0,f.iF)([t,{fontSize:(0,m._V)(e),fontWeight:i?"bold":"normal",color:a}])}},watch:{startValue:function(){this.autoplay&&this.start()},endValue:function(){this.autoplay&&this.start()}},mounted:function(){this.initCountTo(),this.autoplay&&this.start()},beforeDestroy:function(){var t;null===(t=this.countToInstance)||void 0===t||t.destroy()},methods:{addUnit:m._V,getConfig:function(){var t=this;return{startValue:this.startValue,endValue:this.endValue,duration:this.duration,autoplay:this.autoplay,decimals:this.decimals,decimal:this.decimal,separator:this.separator,useEasing:this.useEasing,onChange:function(e){t.displayValue=e,t.$emit("change",e)},onEnd:function(){t.$emit("end")}}},formatNumber:function(t){t=Number(t),t=t.toFixed(Number(this.decimals)),t+="";var e=t.split("."),i=e[0],a=e.length>1?this.decimal+e[1]:"",n=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))while(n.test(i))i=i.replace(n,"$1".concat(this.separator,"$2"));return i+a},isNumber:function(t){return!isNaN(parseFloat(t))},initCountTo:function(){this.countToInstance=new y((0,h.A)({},this.getConfig()))},start:function(){var t;null===(t=this.countToInstance)||void 0===t||t.start(this.getConfig())},stop:function(){var t;null===(t=this.countToInstance)||void 0===t||t.stop()},reset:function(){var t;null===(t=this.countToInstance)||void 0===t||t.reset()},reStart:function(){var t;null===(t=this.countToInstance)||void 0===t||t.reStart()},resume:function(){var t;null===(t=this.countToInstance)||void 0===t||t.resume()}}},b=V,S=(i(55790),i(81904)),T=(0,S.A)(b,u,c,!1,null,"180dbf8e",null,!1,n,s),C=T.exports,A=i(20599),k=i(37482),N={i18n:{"zh-CN":{customStyle:"自定义样式",decimals:"小数位",separator:"千分位分隔符",duration:"自定义持续时间",animation:"禁用缓慢动画",control:"自定义控制",resume:"继续",pause:"暂停",start:"开始",countdown:"倒计时",slot:"插槽"},"en-US":{customStyle:"Custom Style",decimals:"Decimal",separator:"Separator",duration:"Duration",animation:"Animation",control:"Control",resume:"Resume",pause:"Pause",start:"Start",countdown:"Countdown",slot:"Slot"}},components:{PressCountTo:C,PressGrid:k.A,PressGridItem:A.A},data:function(){return{customStyle:"margin-right: 16px;",autoplay:!1,slotValue:""}},methods:{start:function(){this.$refs.pressCountToRef.start()},pause:function(){this.$refs.pressCountToRef.stop()},resume:function(){this.$refs.pressCountToRef.resume()},onEnd:function(){this.onGTip("[end]")},onChange:function(t){this.slotValue=t}}},_=N,F=(0,S.A)(_,l,r,!1,null,"6494a834",null,!1,a,o),E=F.exports},1035:function(t,e,i){"use strict";i.r(e);var a=i(10809),n=i.n(a),s=i(34114),o=i.n(s),l=o()(n());l.push([t.id,".press-count-to__number[data-v-180dbf8e]{display:inline-flex;text-align:center}",""]),e["default"]=l}}]);