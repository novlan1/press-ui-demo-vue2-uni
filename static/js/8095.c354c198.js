(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[8095],{62071:function(t,e,n){var i=n(52772);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var o=n(75970).A;o("abdcf082",i,!0,{sourceMap:!1,shadowMode:!1})},64366:function(t,e,n){var i=n(89845);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var o=n(75970).A;o("46d82152",i,!0,{sourceMap:!1,shadowMode:!1})},38095:function(t,e,n){"use strict";var i;n.d(e,{A:function(){return B}});var o,r,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.innerShow?n("PickerInner",{attrs:{data:t.getPropOrData("list"),current:t.getPropOrData("current"),title:t.getPropOrData("title"),"arrow-icon":t.getPropOrData("arrowIcon"),tip:t.getPropOrData("tip"),"virtual-list-threshold":t.getPropOrData("virtualListThreshold"),horizontal:t.getPropOrData("horizontal")},on:{onCancel:function(e){arguments[0]=e=t.$handleEvent(e),t.remove.apply(void 0,arguments)},onSelect:function(e){arguments[0]=e=t.$handleEvent(e),t.onClickSelect.apply(void 0,arguments)}}}):t._e()},a=[],l=n(9555),u=(n(11680),n(72437)),c={arrowIcon:"showBackArrow",list:"selectList",current:"selectItem",confirm:"onClickConfirm",cancel:"onRemove"},d={arrowIcon:{type:Boolean,default:!1},title:{type:String,default:""},list:{type:Array,default:function(){return[]},required:!1},current:{type:Object,default:null,required:!1},tip:{type:String,default:"",required:!1},confirm:{type:Function,default:null,required:!1},cancel:{type:Function,default:null,required:!1},virtualListThreshold:{type:Number,default:50},horizontal:{type:Boolean,default:!1}},h=(0,u.S7)(d,c),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PressPopupPlus",{class:t.tip?"press-picker__tip":"",attrs:{"close-icon":!t.arrowIcon,"show-back-arrow":t.arrowIcon,title:t.title,button:t.t("picker.confirm"),mode:"white",horizontal:t.horizontal,"width-number":54,"popup-class":"press-popup-picker"},on:{cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.onCancel.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}},[t.tip?n("div",{staticClass:"press-picker--tip"},[t._v(t._s(t.tip))]):t._e(),n("PressPickerPlusView",{ref:"picker",attrs:{data:t.data,"has-tip":!!t.tip,current:t.current,horizontal:t.horizontal,"virtual-list-threshold":t.virtualListThreshold},on:{currentIndexChanged:function(e){arguments[0]=e=t.$handleEvent(e),t.onCurrentIndexChanged.apply(void 0,arguments)}}})],1)},v=[],f=n(20731),m=n(39990),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"press-picker-view",class:[t.hasTip?"press-picker-view__tip":"",t.horizontal?"press-picker-view--hor":""],on:{mousedown:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.mouseDown.apply(void 0,arguments)},mouseup:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.mouseUp.apply(void 0,arguments)},touchstart:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.handleStart.apply(void 0,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.handleMove.apply(void 0,arguments)},touchend:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.handleEnd.apply(void 0,arguments)}}},[n("div",{ref:"dropListMask",staticClass:"press-picker-view--mask"}),n("div",{ref:"dropListIndicator",staticClass:"press-picker-view--indicator"}),n("div",{ref:"DropListContent",staticClass:"press-picker-view--content",style:t.transformStyle},[n("div",{style:t.hiddenUpPartStyle}),t._l(t.showingData,(function(e,i){return n("div",{key:i,staticClass:"press-picker-view--item",class:[e.uniqueKey==t.currentIndex?"press-picker-view--item__active":""],attrs:{"data-unique-key":e.uniqueKey},on:{mousedown:function(e){arguments[0]=e=t.$handleEvent(e),t.itemDown.apply(void 0,arguments)},mousemove:function(e){arguments[0]=e=t.$handleEvent(e),t.itemMove.apply(void 0,arguments)},mouseup:function(e){arguments[0]=e=t.$handleEvent(e),t.itemUp.apply(void 0,arguments)},touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.itemDown.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.itemMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.itemUp.apply(void 0,arguments)}}},[t._v(t._s(e.label))])})),n("div",{style:t.hiddenBottomPartStyle})],2)])},w=[],y=(n(47949),n(28784),n(15186),n(86810),n(98127),n(54864),n(13740),n(57869),n(55026),n(74627));function x(t){return t.changedTouches&&t.changedTouches[0]?t.changedTouches[0]:t.touches&&t.touches[0]?t.touches[0]:t}var C,k,S,b={name:"PressPickerPlusView",options:(0,f.A)({},(0,u.m$)(!0,!1)),props:{data:{type:Array,default:function(){return[{label:"test"},{label:"test"},{label:"test"},{label:"test"},{label:"test"},{label:"test"}]},required:!0},current:{type:Object,default:null,required:!1},hasTip:{type:Boolean,default:!1,required:!1},virtualListThreshold:{type:Number,default:50},horizontal:{type:Boolean,default:!1}},emits:["currentIndexChanged"],data:function(){return{currentIndex:0,currentScroll:0,start:0,startScroll:0,move:0,itemHeight:56,downX:0,downY:0,upX:0,upY:0,lastMove:0,lastTime:0,speed:0,hasClick:!1,slideLimitNum:10,slideTimeThreshold:300}},computed:{upMissed:function(){var t=this.currentIndex,e=this.virtualListThreshold;return Math.max(0,t-e)},hiddenUpPartStyle:function(){var t=this.itemHeight,e=this.upMissed;return"height: ".concat(e*t,"px;")},hiddenBottomPartStyle:function(){var t=this.currentIndex,e=this.data,n=this.itemHeight,i=this.virtualListThreshold;return"height: ".concat((e.length-t-i)*n,"px;")},showingData:function(){var t=this.currentIndex,e=this.virtualListThreshold,n=this.upMissed;return this.data.slice(n,t+e).map((function(t,e){return(0,f.A)((0,f.A)({},t),{},{uniqueKey:e+n})}))},transformStyle:function(){var t="transform: translate3d(0, ".concat(this.currentScroll,"px, 0);");return t},slideLimitDistance:function(){return this.slideLimitNum*this.itemHeight}},watch:{data:function(t){return this.updateCurrent(),t},current:function(t){return this.updateCurrent(),t},currentIndex:{handler:function(t){this.$emit("currentIndexChanged",t)},deep:!0}},created:function(){},mounted:function(){var t=this;(0,y.l)(this,".press-picker-view--item__active").then((function(e){t.itemHeight=e.height,t.updateCurrent()})),this.updateCurrent(),document.addEventListener("mouseup",this.mouseUp)},beforeDestroy:function(){this.onBeforeDestroy()},beforeUnmount:function(){this.onBeforeDestroy()},methods:{onBeforeDestroy:function(){document.removeEventListener("mouseup",this.mouseUp)},mouseDown:function(t){document.addEventListener("mousemove",this.mouseMove),this.handleStart(t)},mouseMove:function(t){this.handleMove(t)},mouseUp:function(){document.removeEventListener("mousemove",this.mouseMove),this.handleEnd()},handleStart:function(t){var e=x(t);this.start=null===e||void 0===e?void 0:e.clientY,this.startScroll=this.currentScroll,this.lastMove=0,this.lastTime=(new Date).getTime()},handleMove:function(t){var e=x(t);this.move=(null===e||void 0===e?void 0:e.clientY)-this.start;var n=this.startScroll+this.move;n=Math.min(0,n),n=Math.max(-(this.data.length-1)*this.itemHeight,n),this.currentScroll=n;var i=Math.round(this.currentScroll/this.itemHeight);this.currentIndex=-i,this.time=(new Date).getTime(),this.time!==this.lastTime&&(this.speed=(this.move-this.lastMove)/(this.time-this.lastTime)),this.lastMove=this.move,this.lastTime=this.time},handleEnd:function(){if(this.hasClick)this.hasClick=!1;else{var t=0;(new Date).getTime()-this.lastTime<this.slideTimeThreshold&&(t=this.speed*this.slideTimeThreshold/2,t=Math.min(this.slideLimitDistance,t),t=Math.max(-this.slideLimitDistance,t));var e=this.currentScroll+t;e=Math.min(0,e),e=Math.max(-(this.data.length-1)*this.itemHeight,e);var n=Math.round(e/this.itemHeight);this.currentScroll=n*this.itemHeight,this.currentIndex=-n}},getCurrentItem:function(){return this.data[this.currentIndex]},updateCurrent:function(){var t=this;if(this.current){var e=this.data.find((function(e){return e.value==t.current.value}));this.currentIndex=this.data.indexOf(e),this.currentScroll=-this.currentIndex*this.itemHeight}},itemDown:function(t){var e=x(t);this.downX=null===e||void 0===e?void 0:e.clientX,this.downY=null===e||void 0===e?void 0:e.clientY,this.upX=null===e||void 0===e?void 0:e.clientX,this.upY=null===e||void 0===e?void 0:e.clientY},itemMove:function(t){var e=x(t);this.upX=null===e||void 0===e?void 0:e.clientX,this.upY=null===e||void 0===e?void 0:e.clientY},itemUp:function(t){var e=t.currentTarget.dataset.uniqueKey,n=this.twoPointDistance({x:this.downX,y:this.downY},{x:this.upX,y:this.upY});n<10&&(this.currentIndex=e,this.currentScroll=-this.currentIndex*this.itemHeight,this.hasClick=!0)},twoPointDistance:function(t,e){var n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));return n},getElementIndex:function(t){return parseInt(t.id,10)}}},P=b,T=(n(64366),n(81904)),E=(0,T.A)(P,g,w,!1,null,"08910000",null,!1,r,C),I=E.exports,M=n(2196),$={name:"PressPickerPlusInner",options:(0,f.A)((0,f.A)({},(0,u.m$)(!0,!1)),{},{styleIsolation:"shared"}),components:{PressPopupPlus:M.A,PressPickerPlusView:I},props:{title:{type:String,default:"",required:!1},arrowIcon:{type:Boolean,default:!1},tip:{type:String,default:"",required:!1},data:{type:Array,default:function(){return[]},required:!0},current:{type:Object,default:null,required:!1},virtualListThreshold:{type:Number,default:50},horizontal:{type:Boolean,default:!1}},emits:["onSelect","onCancel"],data:function(){return{currentIndex:-1}},mounted:function(){},methods:{t:m.t,onCurrentIndexChanged:function(t){this.currentIndex=t},onConfirm:function(){var t,e;null!==(t=this.$refs)&&void 0!==t&&t.picker?this.$emit("onSelect",this.$refs.picker.getCurrentItem()):this.$emit("onSelect",null===(e=this.data)||void 0===e?void 0:e[this.currentIndex])},onCancel:function(){this.$emit("onCancel")}}},_=$,D=(n(62071),(0,T.A)(_,p,v,!1,null,"0c3f86ec",null,!1,o,k)),A=D.exports,q={name:"PressPickerPlus",options:{styleIsolation:"shared"},components:{PickerInner:A},mixins:[(0,l.h)(h,{showProp:!1,propsKeyMap:c})],props:{},emits:["onClickConfirm","confirm","onRemove","cancel"],data:function(){return{}},mounted:function(){this.isFunctionMode||this.showDialog()},methods:{onClickSelect:function(t){var e=this;this.$emit("onClickConfirm",t),this.$emit("confirm",t),this.innerShow=!1,this.getPropOrData("confirm")&&this.getPropOrData("confirm")(t),this.promiseCallback("confirm",{item:t}),setTimeout((function(){e.destroy()}),100)},remove:function(){var t=this;this.$emit("onRemove"),this.$emit("cancel"),this.innerShow=!1,this.getPropOrData("cancel")&&this.getPropOrData("cancel")(),this.promiseCallback("cancel"),setTimeout((function(){t.destroy()}),100)},destroy:function(){var t,e,n;this.isFunctionMode||(null===this||void 0===this||null===(t=this.$destroy)||void 0===t||t.call(this),document.body.contains(this.$el)&&(null===(e=this.$el)||void 0===e||null===(e=e.parentElement)||void 0===e||null===(n=e.removeChild)||void 0===n||n.call(e,this.$el)))}}},L=q,z=(0,T.A)(L,s,a,!1,null,null,null,!1,i,S),B=z.exports},74627:function(t,e,n){"use strict";n.d(e,{Hj:function(){return p},KY:function(){return f},No:function(){return d},UN:function(){return c},ZA:function(){return h},l:function(){return v}});var i=n(10819),o=n(20731),r=(n(15186),n(98127),n(59803),n(55026),n(23864)),s=n(38295),a=n(76604),l=n(97238),u=n(68164);function c(t){var e=(0,r.Ay)(),n=e.top,i=void 0===n?0:n;return(0,s.n1)()||(0,l.S)()?t-i:t}function d(){if((0,s.n1)()){var t=Math.min(window.innerWidth,document.documentElement.clientWidth,screen.width),e=Math.min(window.innerHeight,document.documentElement.clientHeight,screen.height),n=(0,r.Ay)(),i=n.top,o=n.bottom;return e-=i,e-=o,{windowWidth:t,windowHeight:e,windowTop:i,windowBottom:o}}var l=(0,a.jq)(),u=l.windowWidth,c=l.windowHeight,d=l.windowTop,h=l.windowBottom;return{windowWidth:u,windowHeight:c,windowTop:d,windowBottom:h}}function h(){if((0,s.n1)())return 0;var t=(0,a.jq)(),e=t.statusBarHeight;return e}function p(t,e){return new Promise((function(n){var i=(0,u.JP)(e),o=t.$el;if(o){var r=o.querySelector(i);return r||n({}),void n({scrollHeight:r.scrollHeight,scrollTop:r.scrollTop})}uni.createSelectorQuery().in(t).select(i).fields({scrollOffset:!0},(function(t){n(t)})).exec()}))}function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i){var s=null===t||void 0===t?void 0:t.$el,a=null===s||void 0===s?void 0:s.querySelector(e);if(!a&&n&&(a=document.querySelector(e)),a){var l=a.getBoundingClientRect()||{},u=(0,r.Ay)(),c=u.top,d={left:l.left,right:l.right,width:l.width,height:l.height,x:l.x,y:l.y,top:l.top,bottom:l.bottom};d=(0,o.A)((0,o.A)({},d),{},{top:l.top-c,bottom:l.bottom-c}),i(d)}else i({})}))}function f(t,e){return new Promise((function(n){var o=t.$el;if(o){var r=o.querySelectorAll(e),s=(0,i.A)(r).map((function(t){return t.getBoundingClientRect()}));n(s)}else uni.createSelectorQuery().in(t).selectAll(e).boundingClientRect().exec((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n(t[0])}))}))}},68164:function(t,e,n){"use strict";n.d(e,{JP:function(){return s},Rm:function(){return o},hY:function(){return r}});n(59803),n(99782),n(43988);var i=/scroll|auto|overlay/i;function o(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e){var o=window.getComputedStyle(n),r=o.overflowY;if(i.test(r))return n;n=n.parentNode}return e}function r(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function s(t){var e=t;return t.startsWith("#")||(e="#".concat(t)),e="".concat(e," > .uni-scroll-view > .uni-scroll-view"),e}},23864:function(t,e,n){"use strict";n.d(e,{Ay:function(){return b}});n(54864),n(59803),n(74861);var i={"css.var":"--a:0","css.env":"top:env(a)","css.constant":"top:constant(a)"};function o(t){return window.CSS&&CSS.supports&&(CSS.supports(t)||CSS.supports.apply(CSS,t.split(":")))}function r(t){return!!i[t]&&o(i[t])}n(174),n(28784),n(16206),n(34190),n(83805),n(91364),n(98127),n(60671),n(13740),n(32033),n(6344);var s,a,l=n(9335),u=["top","left","right","bottom"],c={},d=[];function h(){return a="CSS"in window&&"function"===typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":"",a}function p(t,e){var n=t.style;Object.keys(e).forEach((function(t){var i=e[t];n[t]=i}))}var v=[];function f(t){t?v.push(t):v.forEach((function(t){t()}))}function m(){if(a="string"===typeof a?a:h(),a){var t=document.createElement("div");p(t,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),u.forEach((function(n){e(t,n)})),document.body.appendChild(t),f(),s=!0}else u.forEach((function(t){c[t]=0}));function e(t,e){var n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),s=100,u=1e4,d={position:"absolute",width:"".concat(s,"px"),height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:"".concat(a,"(safe-area-inset-").concat(e,")")};p(n,d),p(i,d),p(o,{transition:"0s",animation:"none",width:"400px",height:"400px"}),p(r,{transition:"0s",animation:"none",width:"250%",height:"250%"}),n.appendChild(o),i.appendChild(r),t.appendChild(n),t.appendChild(i),f((function(){i.scrollTop=u,n.scrollTop=u;var t=n.scrollTop,o=i.scrollTop;function r(){this.scrollTop!==(this===n?t:o)&&(i.scrollTop=u,n.scrollTop=u,t=n.scrollTop,o=i.scrollTop,y(e))}n.addEventListener("scroll",r,l.FX),i.addEventListener("scroll",r,l.FX)}));var h=getComputedStyle(n);Object.defineProperty(c,e,{configurable:!0,get:function(){return parseFloat(h.paddingBottom)}})}}function g(t){return s||m(),c[t]}var w=[];function y(t){w.length||setTimeout((function(){var t={};w.forEach((function(e){t[e]=c[e]})),w.length=0,d.forEach((function(e){e(t)}))}),0),w.push(t)}function x(t){h()&&(s||m(),"function"===typeof t&&d.push(t))}function C(t){var e=d.indexOf(t);e>=0&&d.splice(e,1)}var k={get support(){return 0!=("string"===typeof a?a:h()).length},get top(){return g("top")},get left(){return g("left")},get right(){return g("right")},get bottom(){return g("bottom")},onChange:x,offChange:C},S=44;function b(){if(r("css.var")){var t=document.documentElement.style,e=parseInt((t.getPropertyValue("--window-top").match(/\d+/)||["0"])[0],10),n=parseInt((t.getPropertyValue("--window-bottom").match(/\d+/)||["0"])[0],10),i=parseInt((t.getPropertyValue("--window-left").match(/\d+/)||["0"])[0],10),o=parseInt((t.getPropertyValue("--window-right").match(/\d+/)||["0"])[0],10),s=parseInt((t.getPropertyValue("--top-window-height").match(/\d+/)||["0"])[0],10);return{top:(e?e+k.top:0)+(s||0),bottom:n?n+k.bottom:0,left:i?i+k.left:0,right:o?o+k.right:0}}var a=0,l=0,u=getCurrentPages();if(u.length){var c=u[u.length-1].$parent.$parent,d=c.navigationBar.type;a="default"===d||"float"===d?S:0}return{top:a,bottom:l,left:0,right:0}}},52772:function(t,e,n){"use strict";n.r(e);var i=n(10809),o=n.n(i),r=n(34114),s=n.n(r),a=s()(o());a.push([t.id,".press-picker--tip[data-v-0c3f86ec]{padding:.24rem .32rem;background:rgba(204,236,255,.2);font-size:.24rem;color:#5bbdfa}",""]),e["default"]=a},89845:function(t,e,n){"use strict";n.r(e);var i=n(10809),o=n.n(i),r=n(34114),s=n.n(r),a=s()(o());a.push([t.id,".press-picker-view[data-v-08910000]{position:relative;width:100%;height:280px;overflow:hidden}.press-picker-view__tip__content[data-v-08910000]{padding-top:60px}.press-picker-view--hor .press-picker-view--item[data-v-08910000]{font-size:16px}.press-picker-view--hor .press-picker-view--item__active[data-v-08910000]{font-size:20px}.press-picker-view--mask[data-v-08910000]{position:absolute;left:0;top:0;height:100%;width:100%;z-index:3;background-image:linear-gradient(180deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.2)),linear-gradient(0deg,hsla(0,0%,100%,.95),hsla(0,0%,100%,.2));background-repeat:no-repeat;background-position:top,bottom;background-size:100% 112px;pointer-events:none}.press-picker-view--indicator[data-v-08910000]{position:absolute;left:0;top:112px;width:100%;height:56px;z-index:3}.press-picker-view--content[data-v-08910000]{position:absolute;left:0;top:0;width:100%;padding:112px 0;z-index:1;transition:all .3s cubic-bezier(0,0,.2,1.15) 0s}.press-picker-view--item[data-v-08910000]{height:56px;line-height:56px;font-size:.32rem;color:#596297;text-align:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;touch-action:manipulation;transition:all .15s ease}.press-picker-view--item__active[data-v-08910000]{font-size:.4rem;color:#1181d7}",""]),e["default"]=a}}]);