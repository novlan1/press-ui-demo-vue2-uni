(self["webpackChunkpress_ui_demo_vue2"]=self["webpackChunkpress_ui_demo_vue2"]||[]).push([[7865],{33921:function(t,e,r){var n=r(32176);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var o=r(75970).A;o("4d72604b",n,!0,{sourceMap:!1,shadowMode:!1})},27865:function(t,e,r){"use strict";var n;r.d(e,{A:function(){return z}});var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{ref:"sticky",staticClass:"press-sticky",class:t.customClass,style:t.containerStyle},[r("div",{class:t.wrapClass,style:t.wrapStyle},[t._t("default")],2)])])},i=[],s=r(50557);r(98756),r(96194);var l=r(20731),a=(r(35868),r(11680),r(91364),r(98127),r(824),r(13740),r(32033),r(24540),r(6344),r(56389),r(97468)),c=r(90758),f=r(63285),u=r(31122),h=r(80726),d=r(41823),p=r(92114);r(50524),r(16206),r(71292);function v(){var t=getCurrentPages();return t[t.length-1]}function y(t){var e=v(),r=e.pressPageScroller,n=void 0===r?[]:r;n.forEach((function(e){"function"===typeof e&&e(t)}))}var x=function(t){return{created:function(){var e=v();(0,d.C8)(e)&&(Array.isArray(e.pressPageScroller)?e.pressPageScroller.push(t.bind(this)):e.pressPageScroller="function"===typeof e.onPageScroll?[e.onPageScroll.bind(e),t.bind(this)]:[t.bind(this)],e.onPageScroll=y)},destroy:function(){var e,r=v();(0,d.C8)(r)&&(r.pressPageScroller=(null===(e=r.pressPageScroller)||void 0===e?void 0:e.filter((function(e){return e!==t})))||[])}}},g=r(96339),m=r(48582);function S(t){return(0,m.iF)({height:t.fixed?(0,g._V)(t.height):"","z-index":t.zIndex})}function D(t){var e=t.fixed,r=t.offsetTop,n=t.transform,o=t.zIndex,i=t.customStyle;return(0,m.iF)([{transform:n?"translate3d(0, ".concat(n,"px, 0)"):"",top:e?(0,g._V)(r):"","z-index":o},i])}var b,T={containerStyle:S,wrapStyle:D},A=r(98408)["A"],k=".press-sticky",_=(x((function(t){null===this.scrollTop&&this.onScroll(t)})),{name:"PressSticky",options:(0,l.A)({},a.KQ),mixins:[(0,p.x)((function(t){this.scroller||(this.scroller=(0,f.Rm)(this.$el)),t(this.scroller,"scroll",this.onScroll,!0),t(this.scroller,"touchmove",this.onScroll,!0),this.onScroll()}))],props:(0,l.A)((0,l.A)({},a.Gs),{},{zIndex:{type:Number,default:99},offsetTop:{type:Number,default:0},disabled:{type:Boolean},container:{type:[Function,null],default:null},scrollTop:{type:[Number,null],default:null},customStyle:{type:[String,Object],default:""}}),emits:["scroll"],data:function(){return{height:0,fixed:!1,transform:0,scrollTopData:this.scrollTop}},computed:{containerStyle:function(){var t=this.fixed,e=this.height,r=this.zIndex,n=T.containerStyle({fixed:t,height:e,zIndex:r});return n},wrapStyle:function(){var t=this.fixed,e=this.offsetTop,r=this.transform,n=this.zIndex,o=this.customStyle,i=T.wrapStyle({fixed:t,offsetTop:e,transform:r,zIndex:n,customStyle:o});return i},wrapClass:function(){var t=this.fixed;return h.Ay.bem2("sticky-wrap",{fixed:t})}},watch:{offsetTop:{handler:function(){this.onScroll()}},disabled:{handler:function(){this.onScroll()}},container:{handler:function(){this.onScroll()}},scrollTop:{handler:function(t){this.onScroll({scrollTop:t}),this.scrollTopData=t}}},created:function(){},mounted:function(){this.scrollTopData=this.scrollTop,this.onScroll()},methods:{setData:function(t){var e=this;Object.keys(t).forEach((function(r){e[r]=t[r]}))},onScroll:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.scrollTop,n=this.container,o=this.offsetTop,i=this.disabled;i?this.setDataAfterDiff({fixed:!1,transform:0}):(this.scrollTopData=r||this.scrollTopData,"function"===typeof n&&n()?Promise.all([(0,c.l)(this,k),this.getContainerRect()]).then((function(e){var r=(0,s.A)(e,2),n=r[0],i=r[1];n&&i&&o+n.height>i.height+i.top?t.setDataAfterDiff({fixed:!1,transform:i.height-n.height}):n&&o>=n.top?t.setDataAfterDiff({fixed:!0,height:n.height,transform:0}):t.setDataAfterDiff({fixed:!1,transform:0})})).catch((function(t){A.warn("error",t)})):(0,c.l)(this,k).then((function(e){(0,d.C8)(e)&&(o>=e.top?(t.setDataAfterDiff({fixed:!0,height:e.height}),t.transform=0):t.setDataAfterDiff({fixed:!1}))})))},setDataAfterDiff:function(t){var e=this;(0,u.dY)((function(){var r=Object.keys(t).reduce((function(r,n){return t[n]!==e[n]&&(r[n]=t[n]),r}),{});Object.keys(r).length>0&&e.setData(r),e.$emit("scroll",{scrollTop:e.scrollTopData,isFixed:t.fixed||e.fixed})}))},getContainerRect:function(){var t,e=this.container(),r=e.getBoundingClientRect();return t=Promise.resolve(r),t}}}),w=_,C=(r(33921),r(81904)),P=(0,C.A)(w,o,i,!1,null,"52a8e884",null,!1,n,b),z=P.exports},92114:function(t,e,r){"use strict";r.d(e,{x:function(){return i}});var n=r(24842),o=0;function i(t){var e="binded_".concat(o);function r(){var r=this;r[e]||(t.call(r,n.on,!0),r[e]=!0)}function i(){var r=this;r[e]&&(t.call(r,n.AU,!1),r[e]=!1)}return o+=1,{mounted:r,activated:r,deactivated:i,beforeDestroy:i}}},32176:function(t,e,r){"use strict";r.r(e);var n=r(10809),o=r.n(n),i=r(34114),s=r.n(i),l=s()(o());l.push([t.id,".press-sticky[data-v-52a8e884]{position:relative}.press-sticky-wrap--fixed[data-v-52a8e884]{position:fixed;right:0;left:0}",""]),e["default"]=l}}]);